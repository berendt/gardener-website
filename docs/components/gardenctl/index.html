<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Project Gardener Website - A Managed Kubernetes Service Done Right"><meta name=copyright content="Copyright 2019 Gardener project authors."><title>gardenctl :: Gardener</title><link rel=icon type=image/x-icon href=https://gardener.cloud/images/favicon.ico><link rel=icon type=image/png href=https://gardener.cloud/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=https://gardener.cloud/images/favicon-16x16.png sizes=16x16><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-W2FGNSX');</script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-165447164-1');</script><link href=/css/nucleus.css?1590599965 rel=stylesheet><link href=/css/fontawesome-all.min.css?1590599965 rel=stylesheet><link href=/css/hybrid.css?1590599965 rel=stylesheet><link href=/css/featherlight.min.css?1590599965 rel=stylesheet><link href=/css/perfect-scrollbar.min.css?1590599965 rel=stylesheet><link href=/css/auto-complete.css?1590599965 rel=stylesheet><link href=/css/skeleton.css?1590599965 rel=stylesheet><link href=/css/sheetslider.css?1590599965 rel=stylesheet><script src=/js/moment.js?1590599965></script><script src=/js/vivus.js?1590599965></script><script src=/js/scrollreveal.js?1590599965></script><script src=/js/inlineSVG.js?1590599965></script><link href=/css/theme.css?1590599965 rel=stylesheet><link href=/css/hugo-theme.css?1590599965 rel=stylesheet><link href=/css/theme-docs-gardener.css?1590599965 rel=stylesheet><script src=/js/jquery-2.x.min.js?1590599965></script><script src=/js/fixed.js?1590599965></script><style type=text/css>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=/components/gardenctl/><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W2FGNSX" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><nav id=sidebar><div id=header-wrapper><div id=header><a id=logo href=https://gardener.cloud/><svg width="90" height="90" viewBox="0 0 90 90" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>logo</title><defs><path d="M41.8864954.994901575C42.8830405.514990742 44.5028956.516982644 45.4953045.994901575L76.8159138 16.0781121C77.8124589 16.5580229 78.8208647 17.8257185 79.0659694 18.8995926L86.8015211 52.7912589C87.0476474 53.8696088 86.6852538 55.4484075 85.9984855 56.3095876L64.3239514 83.4885938C63.6343208 84.3533632 62.1740175 85.0543973 61.0725268 85.0543973H26.3092731C25.2031915 85.0543973 23.7446167 84.3497739 23.0578485 83.4885938L1.38331434 56.3095876C.693683723 55.4448182.335174016 53.865133.580278769 52.7912589L8.31583044 18.8995926C8.56195675 17.8212428 9.57347722 16.556031 10.5658861 16.0781121L41.8864954.994901575z" id="path-1"/><linearGradient x1="12.7542673%" y1="-18.6617048%" x2="88.2666158%" y2="84.6075483%" id="linearGradient-3"><stop stop-color="#fff" offset="0"/><stop stop-color="#439246" offset="100%"/></linearGradient><linearGradient x1="50%" y1="4.93673768%" x2="148.756007%" y2="175.514523%" id="linearGradient-4"><stop stop-color="#fff" offset="0"/><stop stop-color="#439246" offset="100%"/></linearGradient><linearGradient x1="19.1574381%" y1="-9.04800713%" x2="82.2203149%" y2="77.9084293%" id="linearGradient-5"><stop stop-color="#fff" offset="0"/><stop stop-color="#439246" offset="100%"/></linearGradient><linearGradient x1="57.4403751%" y1="26.3148481%" x2="137.966711%" y2="158.080556%" id="linearGradient-6"><stop stop-color="#fff" offset="0"/><stop stop-color="#439246" offset="100%"/></linearGradient></defs><g id="logo" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Rectangle-2" transform="translate(1.000000, 0.000000)"><mask id="mask-2" fill="#fff"><use xlink:href="#path-1"/></mask><use id="Mask" fill="#009f76" xlink:href="#path-1"/><polygon fill="#000" opacity=".289628623" mask="url(#mask-2)" points="-17.6484375 54.5224609 30.8242188 25.0791016 63.4726562 58.5 24.7324219 92.6689453"/></g><path d="M56.8508631 39.260019C56.4193519 40.443987 55.6088085 41.581593 54.6736295 42.1938694L46.5997298 47.4799783C45.2142627 48.3870654 42.9749783 48.3916494 41.5825097 47.4799783L33.50861 42.1938694C32.123143 41.2867823 31 39.206345 31 37.545932V26.4150304C31 25.6897174 31.2131118 24.884885 31.5692681 24.1324532L56.8508631 39.260019z" id="Combined-Shape" fill="url(#linearGradient-3)" transform="translate(43.925432, 36.147233) scale(-1, 1) translate(-43.925432, -36.147233)"/><path d="M56.0774672 25.1412464C56.4306829 25.8903325 56.6425556 26.6907345 56.6425556 27.4119019V38.5428034C56.6425556 40.2027013 55.5264141 42.2790698 54.1339456 43.1907408L46.0600459 48.4768498C44.6745788 49.3839368 42.4352943 49.3885208 41.0428258 48.4768498L32.9689261 43.1907408C32.2918101 42.7474223 31.6773514 42.0238435 31.2260376 41.206007L56.0774672 25.1412464z" id="Combined-Shape" fill="url(#linearGradient-4)" transform="translate(43.821278, 37.246598) scale(-1, 1) translate(-43.821278, -37.246598)"/><path d="M65.0702134 57.1846889C64.5985426 58.2007851 63.8367404 59.1236871 62.9788591 59.6189851L47.37497 68.6278947C45.9443535 69.4538615 43.6226022 69.4525546 42.1942494 68.6278947L26.5903603 59.6189851C25.1597438 58.7930183 24 56.7816693 24 55.1323495V37.1145303C24 36.3487436 24.249712 35.5060005 24.6599102 34.7400631L65.0702134 57.1846889z" id="Combined-Shape" fill="url(#linearGradient-5)"/><path d="M65.0189476 34.954538C65.3636909 35.6617313 65.5692194 36.42021 65.5692194 37.1145303V55.1323495C65.5692194 56.7842831 64.4072119 58.7943252 62.9788591 59.6189851L47.37497 68.6278947C45.9443535 69.4538615 43.6226022 69.4525546 42.1942494 68.6278947L26.5903603 59.6189851C25.9237304 59.2341061 25.3159155 58.5918431 24.8568495 57.8487596L65.0189476 34.954538z" id="Combined-Shape" fill="url(#linearGradient-6)"/></g></svg><h1>Gardener</h1><h2>Universal Kubernetes at Scale</h2></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label><input data-search-input id=search-by type=text placeholder=Search...>
<span data-search-clear><i class="fas fa-close"></i></span></div><script type=text/javascript src=/js/lunr.min.js?1590599965></script><script type=text/javascript src=/js/auto-complete.js?1590599965></script><script type=text/javascript>var baseurl='\/';</script><script type=text/javascript src=/js/search.js?1590599965></script></div><div class=highlightable><ul class=topics><li data-nav-id=/documentation/ title=Documentations class="dd-item
parent"><a href=/documentation/>Documentations</a><ul><li data-nav-id=/about/ title="Getting Started" class=dd-item><a href=/about/><img class=navigation-icon src=https://gardener.cloud/images/navigation_started.svg>
Getting Started</a></li><li data-nav-id=/documentation/030-architecture/ title=Architecture class="dd-item
parent"><a href=/documentation/030-architecture/><img class=navigation-icon src=https://gardener.cloud/images/navigation_architecture.svg>
Architecture</a><ul><li data-nav-id=/components/gardener/ title=Gardener class=dd-item><a href=/components/gardener/>Gardener</a></li><li data-nav-id=/components/gardenctl/ title=gardenctl class="dd-item
parent
active"><a href=/components/gardenctl/>gardenctl</a></li><li data-nav-id=/components/mcm/ title="Machine Controller Manager" class=dd-item><a href=/components/mcm/>Machine Controller Manager</a></li><li data-nav-id=/components/cert-broker/ title="Cert Broker" class=dd-item><a href=/components/cert-broker/>Cert Broker</a></li><li data-nav-id=/components/dns-cm/ title="DNS Controller Manager" class=dd-item><a href=/components/dns-cm/>DNS Controller Manager</a></li><li data-nav-id=/components/dashboard/ title=Dashboard class=dd-item><a href=/components/dashboard/>Dashboard</a></li><li data-nav-id=/components/kubify/ title=kubify class=dd-item><a href=/components/kubify/>kubify</a></li><li data-nav-id=/components/bouquet/ title=Bouquet class=dd-item><a href=/components/bouquet/>Bouquet</a></li></ul></li><li data-nav-id=/contribute/ title=Contribute class=dd-item><a href=/contribute/><img class=navigation-icon src=https://gardener.cloud/images/navigation_contribute.svg>
Contribute</a><ul><li data-nav-id=/contribute/code/ title=Code class=dd-item><a href=/contribute/code/>Code</a><ul><li data-nav-id=/documentation/045_contribute/10_code/10-contribution_guide/ title="Contribution Guide" class=dd-item><a href=/documentation/045_contribute/10_code/10-contribution_guide/>Contribution Guide</a></li><li data-nav-id=/documentation/045_contribute/10_code/12-security_guide/ title="Security Release Process" class=dd-item><a href=/documentation/045_contribute/10_code/12-security_guide/>Security Release Process</a></li><li data-nav-id=/documentation/045_contribute/10_code/13_env/ title=Enviroment class=dd-item><a href=/documentation/045_contribute/10_code/13_env/>Enviroment</a></li><li data-nav-id=/documentation/045_contribute/10_code/14_cicd/ title=CI/CD class=dd-item><a href=/documentation/045_contribute/10_code/14_cicd/>CI/CD</a></li><li data-nav-id=/documentation/045_contribute/10_code/15_conf_secrets/ title="Configuration and Usage" class=dd-item><a href=/documentation/045_contribute/10_code/15_conf_secrets/>Configuration and Usage</a></li><li data-nav-id=/documentation/045_contribute/10_code/20_dependencies/ title=Dependencies class=dd-item><a href=/documentation/045_contribute/10_code/20_dependencies/>Dependencies</a></li><li data-nav-id=/documentation/045_contribute/10_code/27_deploy_into_cluster/ title="Deploy into a Cluster" class=dd-item><a href=/documentation/045_contribute/10_code/27_deploy_into_cluster/>Deploy into a Cluster</a></li><li data-nav-id=/documentation/045_contribute/10_code/30_deploy_seed_into_aks/ title="Deploy into AKS" class=dd-item><a href=/documentation/045_contribute/10_code/30_deploy_seed_into_aks/>Deploy into AKS</a></li><li data-nav-id=/documentation/045_contribute/10_code/37_process/ title=Process class=dd-item><a href=/documentation/045_contribute/10_code/37_process/>Process</a></li><li data-nav-id=/documentation/045_contribute/10_code/40_repositories/ title=Repositories class=dd-item><a href=/documentation/045_contribute/10_code/40_repositories/>Repositories</a></li></ul></li><li data-nav-id=/contribute/docs/ title=Documentation class=dd-item><a href=/contribute/docs/>Documentation</a><ul><li data-nav-id=/documentation/045_contribute/20_documentation/10_organisation/ title=Organisation class=dd-item><a href=/documentation/045_contribute/20_documentation/10_organisation/>Organisation</a></li><li data-nav-id=/documentation/045_contribute/20_documentation/20_style/ title="Style Guide" class=dd-item><a href=/documentation/045_contribute/20_documentation/20_style/>Style Guide</a></li><li data-nav-id=/documentation/045_contribute/20_documentation/25_markup/ title=Markdown class=dd-item><a href=/documentation/045_contribute/20_documentation/25_markup/>Markdown</a><ul><li data-nav-id=/documentation/045_contribute/20_documentation/25_markup/attachments/ title=Attachments class=dd-item><a href=/documentation/045_contribute/20_documentation/25_markup/attachments/>Attachments</a></li><li data-nav-id=/documentation/045_contribute/20_documentation/25_markup/button/ title=Button class=dd-item><a href=/documentation/045_contribute/20_documentation/25_markup/button/>Button</a></li><li data-nav-id=/documentation/045_contribute/20_documentation/25_markup/expand/ title=Expand class=dd-item><a href=/documentation/045_contribute/20_documentation/25_markup/expand/>Expand</a></li><li data-nav-id=/documentation/045_contribute/20_documentation/25_markup/mermaid/ title=Mermaid class=dd-item><a href=/documentation/045_contribute/20_documentation/25_markup/mermaid/>Mermaid</a></li><li data-nav-id=/documentation/045_contribute/20_documentation/25_markup/notice/ title=Notice class=dd-item><a href=/documentation/045_contribute/20_documentation/25_markup/notice/>Notice</a></li></ul></li></ul></li></ul></li><li data-nav-id=/tutorials/ title=Tutorials class=dd-item><a href=/tutorials/><img class=navigation-icon src=https://gardener.cloud/images/navigation_tutorials.svg>
Tutorials</a><ul><li data-nav-id=/using-gardener/administrator/ title=Administrator class=dd-item><a href=/using-gardener/administrator/>Administrator</a></li><li data-nav-id=/using-gardener/developer/topic/ title="App Developer" class=dd-item><a href=/using-gardener/developer/topic/>App Developer</a></li></ul></li><li data-nav-id=/curated-links/ title="Curated Links" class=dd-item><a href=/curated-links/><img class=navigation-icon src=https://gardener.cloud/images/navigation_links.svg>
Curated Links</a></li><li data-nav-id=/api-reference/ title="API Reference" class=dd-item><a href=/api-reference/><img class=navigation-icon src=https://gardener.cloud/images/navigation_tutorials.svg>
API Reference</a><ul><li data-nav-id=/api-reference/core/ title=Core class=dd-item><a href=/api-reference/core/>Core</a></li><li data-nav-id=/api-reference/extensions/ title=Extensions class=dd-item><a href=/api-reference/extensions/>Extensions</a></li><li data-nav-id=/api-reference/settings/ title=Settings class=dd-item><a href=/api-reference/settings/>Settings</a></li></ul></li></ul></li><li data-nav-id=/adopter/ title=Adopters class=dd-item><a href=/adopter/>Adopters</a></li><li data-nav-id=/blog/ title=Blogs class=dd-item><a href=/blog/>Blogs</a><ul><li data-nav-id=/blog/2018_week_06/ title="Kubernetes is available in Docker for Mac 17.12 CE" class=dd-item><a href=/blog/2018_week_06/>Kubernetes is available in Docker for Mac 17.12 CE</a></li><li data-nav-id=/blog/2018_week_07/ title="Big things come in small packages" class=dd-item><a href=/blog/2018_week_07/>Big things come in small packages</a></li><li data-nav-id=/blog/2018_week_08/ title="Watching logs of several pods" class=dd-item><a href=/blog/2018_week_08/>Watching logs of several pods</a></li><li data-nav-id=/blog/2018_week_08_2/ title="Namespace Scope" class=dd-item><a href=/blog/2018_week_08_2/>Namespace Scope</a></li><li data-nav-id=/blog/2018_week_09/ title="Namespace Isolation" class=dd-item><a href=/blog/2018_week_09/>Namespace Isolation</a></li><li data-nav-id=/blog/2018_week_10/ title="Shared storage with S3 backend" class=dd-item><a href=/blog/2018_week_10/>Shared storage with S3 backend</a></li><li data-nav-id=/blog/2018_week_17/ title="Frontend HTTPS" class=dd-item><a href=/blog/2018_week_17/>Frontend HTTPS</a></li><li data-nav-id=/blog/2018_week_22/ title="Anti Patterns" class=dd-item><a href=/blog/2018_week_22/>Anti Patterns</a></li><li data-nav-id=/blog/2018_week_27/ title="ReadWriteMany - Dynamically Provisioned Persistent Volumes Using Amazon EFS" class=dd-item><a href=/blog/2018_week_27/>ReadWriteMany - Dynamically Provisioned Persistent Volumes Using Amazon EFS</a></li><li data-nav-id=/blog/2018_week_40/ title="Hibernate a Cluster to save money" class=dd-item><a href=/blog/2018_week_40/>Hibernate a Cluster to save money</a></li><li data-nav-id=/blog/2018_week_46/ title="Auditing Kubernetes for Secure Setup" class=dd-item><a href=/blog/2018_week_46/>Auditing Kubernetes for Secure Setup</a></li><li data-nav-id=/blog/2018_week_50/ title="Hardening the Gardener Community Setup" class=dd-item><a href=/blog/2018_week_50/>Hardening the Gardener Community Setup</a></li><li data-nav-id=/blog/2018_week_51/ title="Cookies are dangerous..." class=dd-item><a href=/blog/2018_week_51/>Cookies are dangerous...</a></li><li data-nav-id=/blog/2019_week_02/ title="Organizing Access Using kubeconfig Files" class=dd-item><a href=/blog/2019_week_02/>Organizing Access Using kubeconfig Files</a></li><li data-nav-id=/blog/2019_week_06/ title="Manually adding a node to an existing cluster" class=dd-item><a href=/blog/2019_week_06/>Manually adding a node to an existing cluster</a></li><li data-nav-id=/blog/2019_week_21/ title="Cluster Overprovisioning" class=dd-item><a href=/blog/2019_week_21/>Cluster Overprovisioning</a></li><li data-nav-id=/blog/2019_week_21_2/ title="Feature Flags in Kubernetes Applications" class=dd-item><a href=/blog/2019_week_21_2/>Feature Flags in Kubernetes Applications</a></li><li data-nav-id=/blog/2020_week_20/00/ title="New Website, Same Green Flower" class=dd-item><a href=/blog/2020_week_20/00/>New Website, Same Green Flower</a></li></ul></li><li data-nav-id=/community/ title=Community class=dd-item><a href=/community/>Community</a></li><li data-nav-id=/installer/ class=dd-item><a href=/installer/></a></li><li data-nav-id=/news/ title=News class=dd-item></li></ul><section id=footer><script async defer src=https://buttons.github.io/buttons.js></script></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable body-inner-wrapper"><div><div id=top-bar><div id=top-github-link><a class=github-link title="Edit this page" href=https://github.com/gardener/gardenctl/edit/master/README.md target=blank><i class="fa fa-code-fork"></i><span id=top-github-link-text>Edit this page</span></a></div><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fa fa-bars"></i></a></span><span id=toc-menu><i class="fa fa-list-alt"></i></span><span class=links><a href=/>Gardener</a> > <a href=/documentation/>Documentations</a> > <a href=/documentation/030-architecture/>Architecture</a> > gardenctl</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#prerequisites>Prerequisites</a></li><li><a href=#build-gardenctl>Build gardenctl</a><ul><li><a href=#from-source>From source</a></li><li><a href=#via-dockerfile>Via Dockerfile</a></li></ul></li></ul><ul><li><a href=#examples-of-basic-usage>Examples of basic usage:</a></li><li><a href=#advanced-usage-based-on-jsonquery>Advanced usage based on JsonQuery</a></li></ul></nav></div></div></div></div><div id=githubFactsheet><span id=githubLink><i class="fa fa-github"></i><a target=_blank href=https://github.com/gardener/gardenctl/>https://github.com/gardener/gardenctl/</a></span>
<a class=github-button href=https://github.com/gardener aria-label="Follow @gardener on GitHub">Follow @gardenctl/</a>
<a class=github-button href=https://github.com/gardener/gardenctl/ data-show-count=true aria-label="Star gardener/gardener on GitHub">Star</a><div class=tutorial-last-update>Updated <span><span data-publishdate="2018-02-06 13:58:36"></span></span>by <a href=mailto:roland.wilfer@sap.com>Roland Wilfer</a>,<a href=mailto:vasu1124@actvirtual.com>vasu1124</a>,<a href=mailto:ted.teng@sap.com>tedteng</a>,<a href=mailto:i.alidjikov@gmail.com>ialidzhikov</a>,<a href=mailto:sebastian.stauch@sap.com>Sebastian Stauch</a>,<a href=mailto:vladimir.penkov.nachev@gmail.com>Vladimir Nachev</a>,<a href=mailto:kristianzh@abv.bg>KristianZH</a>,<a href=mailto:vedran.lerenc@sap.com>Vedran Lerenc</a>,<a href=mailto:raphael.vogel@sap.com>Raphael Vogel</a></div></div><div id=body-inner><br><br><h1 id=gardenctl>Gardenctl</h1><p><img src=logo/logo_gardener_cli_large.png alt></p><p><a href=https://goreportcard.com/report/github.com/gardener/gardenctl><img src=https://goreportcard.com/badge/github.com/gardener/gardenctl alt="Go Report Card"></a>
<a href=https://badge.fury.io/gh/gardener%2Fgardenctl><img src=https://badge.fury.io/gh/gardener%2Fgardenctl.svg alt=release></a></p><h1 id=what-is-gardenctl>What is gardenctl?</h1><p><code>gardenctl</code> is a command-line client for administrative purposes for the <a href=https://github.com/gardener/gardener>Gardener</a>. It facilitates the administration of one or many garden, seed and shoot clusters, e.g. to check for issues which occured in one of these clusters. Details about the concept behind the Gardener are described in the <a href=//documentation/030-architecture/>Gardener wiki</a>.</p><h1 id=installation>Installation</h1><p><code>gardenctl</code> is shipped for mac and linux in a binary format.</p><ol><li>Download the latest release:</li></ol><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>curl -LO https://github.com/gardener/gardenctl/releases/download/<span style=color:#66d9ef>$(</span>curl -s https://raw.githubusercontent.com/gardener/gardenctl/master/LATEST<span style=color:#66d9ef>)</span>/gardenctl-darwin-amd64
</code></pre></div><p>To download a specific version, replace the <code>$(curl -s https://raw.githubusercontent.com/gardener/gardenctl/master/LATEST)</code> portion of the command with the specific version.</p><p>For example, to download version 0.16.0 on macOS, type:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>curl -LO https://github.com/gardener/gardenctl/releases/download/v0.16.0/gardenctl-darwin-amd64
</code></pre></div><ol start=2><li>Make the gardenctl binary executable.</li></ol><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>chmod +x ./gardenctl-darwin-amd64
</code></pre></div><ol start=3><li>Move the binary in to your PATH.</li></ol><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>sudo mv ./gardenctl-darwin-amd64 /usr/local/bin/gardenctl
</code></pre></div><h1 id=how-to-build-it>How to build it</h1><p>If no binary builds are available for your platform or architecture, you can build it from source, <code>go get</code> it or build the docker image from Dockerfile. Please keep in mind to use an up to date version of <a href=https://golang.org/doc/devel/release.html>golang</a>.</p><h2 id=prerequisites>Prerequisites</h2><p>To build <code>gardenctl</code> from sources you need to have a running Golang environment. Moreover, since <code>gardenctl</code> allows to execute <code>kubectl</code> as well as a running <code>kubectl</code> installation is recommended, but not required. Please check this <a href=//documentation/045_contribute/10_code/13_env/>description</a> for further details.</p><h2 id=build-gardenctl>Build gardenctl</h2><h3 id=from-source>From source</h3><p>First, you need to clone the repository and build <code>gardenctl</code>.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git clone //documentation/030-architecture/15_gardenctl/
cd gardenctl
make build
</code></pre></div><p>After successfully building <code>gardenctl</code> the executables are in the directory <code>~/go/src/github.com/gardener/gardenctl/bin/</code>. Next, move the executable for your architecture to <code>/usr/local/bin</code>. In this case for darwin-amd64.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>sudo mv bin/darwin-amd64/gardenctl-darwin-amd64 /usr/local/bin/gardenctl
</code></pre></div><p><code>gardenctl</code> supports auto completion. This recommended feature is bound to <code>gardenctl</code> or the alias <code>g</code>. To configure it you can run:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>echo <span style=color:#e6db74>&#34;source &lt;(gardenctl completion bash)&#34;</span> &gt;&gt; ~/.bashrc
source ~/.bashrc
</code></pre></div><h3 id=via-dockerfile>Via Dockerfile</h3><p>First clone the repository as described in the the build step &ldquo;From source&rdquo;. As next step add the garden &ldquo;config&rdquo; file and &ldquo;clusters&rdquo; folder with the corresponding kubeconfig files for the garden cluster. Then build the container image via <code>docker build -t gardener/gardenctl:v1 .</code> in the cloned repository and run a shell in the image with <code>docker run -it gardener/gardenctl:v1 /bin/bash</code>.</p><h1 id=configure-gardenctl>Configure gardenctl</h1><p><code>gardenctl</code> requires a configuration file. The default location is in <code>~/.garden/config</code>, but it can be overwritten with the environment variable <code>GARDENCONFIG</code>.</p><p>Here an example file:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#66d9ef>email</span>: john.doe@example.com
<span style=color:#66d9ef>githubURL</span>: https://github.location.company.corp
<span style=color:#66d9ef>gardenClusters</span>:
- <span style=color:#66d9ef>name</span>: dev
  <span style=color:#66d9ef>kubeConfig</span>: ~/clusters/dev/kubeconfig.yaml
- <span style=color:#66d9ef>name</span>: prod
  <span style=color:#66d9ef>kubeConfig</span>: ~/clusters/prod/kubeconfig.yaml
</code></pre></div><p>The path to the kubeconfig files of a garden cluster can be relative by using the ~ (tilde) expansion or absolute.</p><p><code>gardenctl</code> caches some information, e.g. the garden project names. The location of this cache is per default <code>$GARDENCTL_HOME/cache</code>. If <code>GARDENCTL_HOME</code> is not set, <code>~/.garden</code> is assumed.</p><p><code>gardenctl</code> supports multiple sessions. The session ID can be set via <code>$GARDEN_SESSION_ID</code> and the sessions are stored under <code>$GARDENCTL_HOME/sessions</code>.</p><p><code>gardenctl</code> makes it easy to get additional information of your IaaS provider by using the secrets stored in the corresponding projects in the Gardener. To use this functionality, the CLIs of the IaaS providers need to be available.</p><p>Please check the IaaS provider documentation for more details about their CLIs.</p><ul><li><a href=https://github.com/aliyun/aliyun-cli>aliyun</a></li><li><a href=https://aws.amazon.com/cli/>aws</a></li><li><a href="https://docs.microsoft.com/en-us/cli/azure/install-azure-cli?view=azure-cli-latest">az</a></li><li><a href=https://cloud.google.com/sdk/downloads>gcloud</a></li><li><a href=https://pypi.python.org/pypi/python-openstackclient>openstack</a></li></ul><p>Moreover, <code>gardenctl</code> offers auto completion. To use it, the command</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>gardenctl completion bash
</code></pre></div><p>print on the standard output a completion script which can be sourced via</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>source &lt;<span style=color:#f92672>(</span>gardenctl completion bash<span style=color:#f92672>)</span>
</code></pre></div><p>Please keep in mind that the auto completion is bound to <code>gardenctl</code> or the alias <code>g</code>.</p><h1 id=use-gardenctl>Use gardenctl</h1><p><code>gardenctl</code> requires the definition of a target, e.g. garden, project, seed or shoot. The following commands, e.g. <code>gardenctl ls shoots</code> uses the target definition as a context for getting the information.</p><p>Targets represent a hierarchical structure of resources. On top, there is/are the garden/s. E.g. in case you setup a development and a production garden, you would have two entries in your <code>~/.garden/config</code>. Via <code>gardenctl ls gardens</code> you get a list of the available gardens.</p><ul><li><code>gardenctl get target</code><br>Displays the current target</li><li><code>gardenctl target [garden|project|seed|shoot]</code><br>Set the target e.g. to a garden. It is as well possible to set the target directly to a element deeper in the hierarchy, e.g. to a shoot.</li><li><code>gardenctl drop target</code><br>Drop the deepest target.</li></ul><h2 id=examples-of-basic-usage>Examples of basic usage:</h2><ul><li>List all seed cluster<br><code>gardenctl ls seeds</code></li><li>List all projects with shoot cluster<br><code>gardenctl ls projects</code></li><li>Target a seed cluster<br><code>gardenctl target seed-gce-dev</code></li><li>Target a project<br><code>gardenctl target garden-vora</code></li><li>Open prometheus ui for a targeted shoot-cluster<br><code>gardenctl show prometheus</code></li><li>Execute an aws command on a targeted aws shoot cluster<br><code>gardenctl aws ec2 describe-instances</code> or<br><code>gardenctl aws ec2 describe-instances --no-cache</code> without locally caching credentials</li><li>Target a shoot directly and get all kube-dns pods in kube-system namespace<br><code>gardenctl target myshoot</code><br><code>gardenctl kubectl get pods -- -n kube-system -l k8s-app=kube-dns</code></li><li>List all cluster with an issue<br><code>gardenctl ls issues</code></li><li>Drop an element from target stack<br><code>gardenctl drop</code></li><li>Open a shell to a cluster node<br><code>gardenctl shell nodename</code></li><li>Show logs from elasticsearch<br><code>gardenctl logs etcd-main --elasticsearch</code></li><li>Show last 100 logs from elasticsearch from the last 2 hours<br><code>gardenctl logs etcd-main --elasticsearch --since=2h --tail=100</code></li><li>Show logs from seed nodes<br><code>gardenctl target -g garden-name -s seed-name</code><br><code>gardenctl logs tf infra shoot-name</code></li><li>Show logs from shoot nodes<br><code>gardenctl target -g garden-name -t shoot-name</code><br><code>gardenctl logs api | scheduler | controller-manager | etcd-main -c etcd |etcd-main -c backup-restore | vpn-seed | vpn-shoot | machine-controller-manager | prometheus |grafana | alertmanager | cluster-autoscaler</code></li><li>Show logs from garden nodes<br><code>gardenctl target -g garden-name</code><br><code>gardenctl logs gardener-apiserver | gardener-controller-manager</code></li></ul><h2 id=advanced-usage-based-on-jsonquery>Advanced usage based on JsonQuery</h2><p>The following examples are based on <a href=https://stedolan.github.io/jq/>jq</a>. The <a href="https://jqplay.org/jq?q=.%5B%5D&j=%5B%5D">Json Query Playground</a> offers a convenient environment to test the queries.</p><p>Below a list of examples:</p><ul><li>List the project name, shoot name and the state for all projects with issues</li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>gardenctl ls issues -o json | jq <span style=color:#e6db74>&#39;.issues[] | { project: .project, shoot: .shoot, state: .status.lastOperation.state }&#39;</span>
</code></pre></div><ul><li>Print all issues of a single project e.g. <code>garden-myproject</code></li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>gardenctl ls issues -o json | jq <span style=color:#e6db74>&#39;.issues[] | if (.project==&#34;garden-myproject&#34;) then . else empty end&#39;</span> 
</code></pre></div><ul><li>Print all issues with error state &ldquo;Error&rdquo;</li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>gardenctl ls issues -o json | jq <span style=color:#e6db74>&#39;.issues[] | if (.status.lastOperation.state==&#34;Error&#34;) then . else empty end&#39;</span>
</code></pre></div><ul><li>Print all issues with error state not equal &ldquo;Succeded&rdquo;</li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>gardenctl ls issues -o json | jq <span style=color:#e6db74>&#39;.issues[] | if (.status.lastOperation.state!=&#34;Succeeded&#34;) then . else empty end&#39;</span>
</code></pre></div><ul><li>Print <code>createdBy</code> information (typically email addresses) of all shoots</li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>gardenctl k get shoots -- -n garden-core -o json | jq -r <span style=color:#e6db74>&#34;.items[].metadata | {email: .annotations.\&#34;garden.sapcloud.io/createdBy\&#34;, name: .name, namespace: .namespace}&#34;</span>
</code></pre></div><p>Here a few on cluster analysis:</p><ul><li>Which states are there and how many clusters are in this state?</li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>gardenctl ls issues -o json | jq <span style=color:#e6db74>&#39;.issues | group_by( .status.lastOperation.state ) | .[] | {state:.[0].status.lastOperation.state, count:length}&#39;</span>
</code></pre></div><ul><li>Get all clusters in state <code>Failed</code></li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>gardenctl ls issues -o json | jq <span style=color:#e6db74>&#39;.issues[] | if (.status.lastOperation.state==&#34;Failed&#34;) then . else empty end&#39;</span>
</code></pre></div></div></div><div class=howto_tickets><span class=open_github_ticket><h3 class=open_github_ticket_header><img src=https://gardener.cloud/images/branding/github.svg> Report an issue</h3>See a typo? Have a picture to recommend? Want to edit some words/phrases/sentences?
You can simply submit a ticket to request we make the change. If you are github savvy, submit a
pull request.
<a href=# onclick="return createIssue('https://github.com/gardener/gardenctl\//issues/new','https:\/\/github.com\/gardener\/gardenctl.git','https:\/\/github.com\/gardener\/gardenctl.git')" target=_blank>Open Github Issue <i class="fa fa-external-link" aria-hidden=true></i></a><br></span></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/js/clipboard.min.js?1590599965></script><script src=/js/perfect-scrollbar.min.js?1590599965></script><script src=/js/perfect-scrollbar.jquery.min.js?1590599965></script><script src=/js/jquery.sticky.js?1590599965></script><script src=/js/featherlight.min.js?1590599965></script><script src=/js/html5shiv-printshiv.min.js?1590599965></script><script src=/js/highlight.pack.js?1590599965></script><script>hljs.initHighlightingOnLoad();</script><script src=/js/modernizr.custom.71422.js?1590599965></script><script src=/js/learn.js?1590599965></script><script src=/js/hugo-learn.js?1590599965></script><link href=/mermaid/mermaid.css?1590599965 type=text/css rel=stylesheet><script src=/mermaid/mermaid.js?1590599965></script><script>mermaid.initialize({startOnLoad:true,htmlLables:true});function createIssue(issueUrl,page,url){var uri=issueUrl+"?title=Documentation issue on page \""+page+"\"";uri=uri+"&body=\n\n<- DESCRIBE MISSING OR FAULTY DOCUMENTATION HERE->\n\n---\nPage: ["+page+"]("+
url+")\ndon't remove the link to the page. It's required for the processor"
var res=encodeURI(uri);res+="&labels=area/documentation"
window.open(res,"issue")
return false;}
$(document).ready(function(){var $window=$(window);$window.sr=ScrollReveal({reset:false});$window.sr.reveal('.reveal-fast',{duration:2000});$window.sr.reveal('.reveal-slow',{duration:2500});$window.sr.reveal('.reveal-right',{duration:2000,origin:'right',distance:'300px'});$window.sr.reveal('.reveal-left',{duration:2000,origin:'left',distance:'300px'});inlineSVG.init();});</script><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W2FGNSX" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><script>function setMenuHeight(){$('#sidebar .highlightable').height($('#sidebar').innerHeight()-$('#header-wrapper').height()-40);$('#sidebar .highlightable').perfectScrollbar('update');var $blockList=$('#sidebar .highlightable');if($blockList.length&&window.localStorage){var position=localStorage.getItem('blockListScrollPosition');if(position){$blockList.scrollTop(position);}
$(window).on('unload',function(){var scrollPosition=$blockList.scrollTop();localStorage.setItem('blockListScrollPosition',scrollPosition);});}}
(function(){$("#body-inner a").not(".inline").each(function(){if(this.hostname!=window.location.hostname&&this.href.indexOf("mailto:")===-1){this.target='_blank';$(this).addClass("externalLink");if($(this).find("img").length===0){this.innerHTML+='<i class="fa fa-external-link" aria-hidden="true"></i>';}}});})();</script></body></html>