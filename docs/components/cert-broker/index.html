<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Project Gardener Website - A Managed Kubernetes Service Done Right"><meta name=copyright content="Copyright 2019 Gardener project authors."><meta name=google-site-verification content="9EoGiMwk2aq0E_tVh16iJgJbp7fbyqkfWH9b5sGybl0"><title>Cert Broker :: Gardener</title><link rel=icon type=image/x-icon href=https://gardener.cloud/images/favicon.ico><link rel=icon type=image/png href=https://gardener.cloud/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=https://gardener.cloud/images/favicon-16x16.png sizes=16x16><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-W2FGNSX');</script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-165447164-1');</script><link href=/css/nucleus.css?1594993506 rel=stylesheet><link href=/css/fontawesome-all.min.css?1594993506 rel=stylesheet><link href=/css/hybrid.css?1594993506 rel=stylesheet><link href=/css/featherlight.min.css?1594993506 rel=stylesheet><link href=/css/perfect-scrollbar.min.css?1594993506 rel=stylesheet><link href=/css/auto-complete.css?1594993506 rel=stylesheet><link href=/css/skeleton.css?1594993506 rel=stylesheet><link href=/css/sheetslider.css?1594993506 rel=stylesheet><script src=/js/moment.js?1594993506></script><script src=/js/vivus.js?1594993506></script><script src=/js/scrollreveal.js?1594993506></script><script src=/js/inlineSVG.js?1594993506></script><link href=/css/theme.css?1594993506 rel=stylesheet><link href=/css/hugo-theme.css?1594993506 rel=stylesheet><link href=/css/theme-docs-gardener.css?1594993506 rel=stylesheet><link rel=stylesheet href=/css/gardener.f83647cf713ea25cfdc21f1ee293222facab94c9f8ffd1ffe01079b633423dca.css><script src=/js/jquery-2.x.min.js?1594993506></script><script src=/js/fixed.js?1594993506></script><style type=text/css>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=/components/cert-broker/><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W2FGNSX" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><nav id=sidebar><div id=header-wrapper><div id=header><a id=logo href=https://gardener.cloud/><svg width="90" height="90" viewBox="0 0 90 90" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>logo</title><defs><path d="M41.8864954.994901575C42.8830405.514990742 44.5028956.516982644 45.4953045.994901575L76.8159138 16.0781121C77.8124589 16.5580229 78.8208647 17.8257185 79.0659694 18.8995926L86.8015211 52.7912589C87.0476474 53.8696088 86.6852538 55.4484075 85.9984855 56.3095876L64.3239514 83.4885938C63.6343208 84.3533632 62.1740175 85.0543973 61.0725268 85.0543973H26.3092731C25.2031915 85.0543973 23.7446167 84.3497739 23.0578485 83.4885938L1.38331434 56.3095876C.693683723 55.4448182.335174016 53.865133.580278769 52.7912589L8.31583044 18.8995926C8.56195675 17.8212428 9.57347722 16.556031 10.5658861 16.0781121L41.8864954.994901575z" id="path-1"/><linearGradient x1="12.7542673%" y1="-18.6617048%" x2="88.2666158%" y2="84.6075483%" id="linearGradient-3"><stop stop-color="#fff" offset="0"/><stop stop-color="#439246" offset="100%"/></linearGradient><linearGradient x1="50%" y1="4.93673768%" x2="148.756007%" y2="175.514523%" id="linearGradient-4"><stop stop-color="#fff" offset="0"/><stop stop-color="#439246" offset="100%"/></linearGradient><linearGradient x1="19.1574381%" y1="-9.04800713%" x2="82.2203149%" y2="77.9084293%" id="linearGradient-5"><stop stop-color="#fff" offset="0"/><stop stop-color="#439246" offset="100%"/></linearGradient><linearGradient x1="57.4403751%" y1="26.3148481%" x2="137.966711%" y2="158.080556%" id="linearGradient-6"><stop stop-color="#fff" offset="0"/><stop stop-color="#439246" offset="100%"/></linearGradient></defs><g id="logo" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Rectangle-2" transform="translate(1.000000, 0.000000)"><mask id="mask-2" fill="#fff"><use xlink:href="#path-1"/></mask><use id="Mask" fill="#009f76" xlink:href="#path-1"/><polygon fill="#000" opacity=".289628623" mask="url(#mask-2)" points="-17.6484375 54.5224609 30.8242188 25.0791016 63.4726562 58.5 24.7324219 92.6689453"/></g><path d="M56.8508631 39.260019C56.4193519 40.443987 55.6088085 41.581593 54.6736295 42.1938694L46.5997298 47.4799783C45.2142627 48.3870654 42.9749783 48.3916494 41.5825097 47.4799783L33.50861 42.1938694C32.123143 41.2867823 31 39.206345 31 37.545932V26.4150304C31 25.6897174 31.2131118 24.884885 31.5692681 24.1324532L56.8508631 39.260019z" id="Combined-Shape" fill="url(#linearGradient-3)" transform="translate(43.925432, 36.147233) scale(-1, 1) translate(-43.925432, -36.147233)"/><path d="M56.0774672 25.1412464C56.4306829 25.8903325 56.6425556 26.6907345 56.6425556 27.4119019V38.5428034C56.6425556 40.2027013 55.5264141 42.2790698 54.1339456 43.1907408L46.0600459 48.4768498C44.6745788 49.3839368 42.4352943 49.3885208 41.0428258 48.4768498L32.9689261 43.1907408C32.2918101 42.7474223 31.6773514 42.0238435 31.2260376 41.206007L56.0774672 25.1412464z" id="Combined-Shape" fill="url(#linearGradient-4)" transform="translate(43.821278, 37.246598) scale(-1, 1) translate(-43.821278, -37.246598)"/><path d="M65.0702134 57.1846889C64.5985426 58.2007851 63.8367404 59.1236871 62.9788591 59.6189851L47.37497 68.6278947C45.9443535 69.4538615 43.6226022 69.4525546 42.1942494 68.6278947L26.5903603 59.6189851C25.1597438 58.7930183 24 56.7816693 24 55.1323495V37.1145303C24 36.3487436 24.249712 35.5060005 24.6599102 34.7400631L65.0702134 57.1846889z" id="Combined-Shape" fill="url(#linearGradient-5)"/><path d="M65.0189476 34.954538C65.3636909 35.6617313 65.5692194 36.42021 65.5692194 37.1145303V55.1323495C65.5692194 56.7842831 64.4072119 58.7943252 62.9788591 59.6189851L47.37497 68.6278947C45.9443535 69.4538615 43.6226022 69.4525546 42.1942494 68.6278947L26.5903603 59.6189851C25.9237304 59.2341061 25.3159155 58.5918431 24.8568495 57.8487596L65.0189476 34.954538z" id="Combined-Shape" fill="url(#linearGradient-6)"/></g></svg><h1>Gardener</h1><h2>Universal Kubernetes at Scale</h2></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label><input data-search-input id=search-by type=text placeholder=Search...>
<span data-search-clear><i class="fas fa-close"></i></span></div><script type=text/javascript src=/js/lunr.min.js?1594993506></script><script type=text/javascript src=/js/auto-complete.js?1594993506></script><script type=text/javascript>var baseurl='\/';</script><script type=text/javascript src=/js/search.js?1594993506></script></div><div class=highlightable><ul class=topics><li data-nav-id=/adopter/ title=Adopters class=dd-item><a href=/adopter/>Adopters</a></li><li data-nav-id=/blog/ title=Blogs class=dd-item><a href=/blog/>Blogs</a></li><li data-nav-id=/community/ title=Community class=dd-item><a href=/community/>Community</a></li><li data-nav-id=/documentation/ title=Home class="dd-item
parent"><a href=/documentation/>Home</a><ul><li data-nav-id=/tutorials/ title=Tutorials class=dd-item><a href=/tutorials/><img class=navigation-icon src=https://gardener.cloud/images/navigation_tutorials.svg>
Tutorials</a><ul><li data-nav-id=/using-gardener/administrator/ title=Administrator class=dd-item><a href=/using-gardener/administrator/>Administrator</a></li><li data-nav-id=/using-gardener/developer/topic/ title="App Developer" class=dd-item><a href=/using-gardener/developer/topic/>App Developer</a></li></ul></li><li data-nav-id=/curated-links/ title="Curated Links" class=dd-item><a href=/curated-links/><img class=navigation-icon src=https://gardener.cloud/images/navigation_links.svg>
Curated Links</a></li><li data-nav-id=/documentation/concepts/ title=Concepts class="dd-item
parent"><a href=/documentation/concepts/>Concepts</a><ul><li data-nav-id=/documentation/concepts/architecture/ title=Architecture class=dd-item><a href=/documentation/concepts/architecture/>Architecture</a><ul><li data-nav-id=/components/gardener/ title=Gardener class=dd-item><a href=/components/gardener/>Gardener</a></li><li data-nav-id=/components/gardenctl/ title=gardenctl class=dd-item><a href=/components/gardenctl/>gardenctl</a></li><li data-nav-id=/components/dashboard/ title=Dashboard class=dd-item><a href=/components/dashboard/>Dashboard</a></li><li data-nav-id=/components/kubify/ title=kubify class=dd-item><a href=/components/kubify/>kubify</a></li><li data-nav-id=/components/bouquet/ title=Bouquet class=dd-item><a href=/components/bouquet/>Bouquet</a></li></ul></li><li data-nav-id=/documentation/concepts/backup-restore/ title="Backup and Restore" class=dd-item><a href=/documentation/concepts/backup-restore/>Backup and Restore</a></li><li data-nav-id=/documentation/concepts/core-components/ title="Core Components" class=dd-item><a href=/documentation/concepts/core-components/>Core Components</a><ul><li data-nav-id=/documentation/concepts/core-components/api-server/ title="Gardener API Server" class=dd-item><a href=/documentation/concepts/core-components/api-server/>Gardener API Server</a><ul><li data-nav-id=/documentation/concepts/core-components/api-server/admission-plugins/ title="In-Tree Admission Plugins" class=dd-item><a href=/documentation/concepts/core-components/api-server/admission-plugins/>In-Tree Admission Plugins</a></li></ul></li><li data-nav-id=/documentation/concepts/core-components/gardenlet/ title=Gardenlet class=dd-item><a href=/documentation/concepts/core-components/gardenlet/>Gardenlet</a></li><li data-nav-id=/documentation/concepts/core-components/scheduler/ title="Gardener Scheduler" class=dd-item><a href=/documentation/concepts/core-components/scheduler/>Gardener Scheduler</a></li><li data-nav-id=/documentation/concepts/core-components/seed-admission-ctrl/ title="Gardener Seed Admission Controller" class=dd-item><a href=/documentation/concepts/core-components/seed-admission-ctrl/>Gardener Seed Admission Controller</a></li></ul></li><li data-nav-id=/documentation/concepts/deployment/in_kubernetes/ title="Deploying the Gardener into a Kubernetes cluster" class=dd-item><a href=/documentation/concepts/deployment/in_kubernetes/>Deploying the Gardener into a Kubernetes cluster</a></li><li data-nav-id=/documentation/concepts/deployment/feature_gates/ title="Feature Gates" class=dd-item><a href=/documentation/concepts/deployment/feature_gates/>Feature Gates</a></li><li data-nav-id=/documentation/concepts/extensions/ title=Extensions class=dd-item><a href=/documentation/concepts/extensions/>Extensions</a><ul><li data-nav-id=/documentation/concepts/extensions/ctrl-registration/ title="Extension controller registration" class=dd-item><a href=/documentation/concepts/extensions/ctrl-registration/>Extension controller registration</a></li></ul></li><li data-nav-id=/documentation/concepts/mcm/ title="Machine Controller Manager" class=dd-item><a href=/documentation/concepts/mcm/>Machine Controller Manager</a></li><li data-nav-id=/documentation/concepts/monitoring/ title=Monitoring class=dd-item><a href=/documentation/concepts/monitoring/>Monitoring</a><ul><li data-nav-id=/documentation/concepts/monitoring/alerting/ title=Alerting class=dd-item><a href=/documentation/concepts/monitoring/alerting/>Alerting</a></li><li data-nav-id=/documentation/concepts/monitoring/extending/ title="Extending the Monitoring Stack" class=dd-item><a href=/documentation/concepts/monitoring/extending/>Extending the Monitoring Stack</a></li><li data-nav-id=/documentation/concepts/monitoring/operator_alerts/ title="Operator Alerts" class=dd-item><a href=/documentation/concepts/monitoring/operator_alerts/>Operator Alerts</a></li><li data-nav-id=/documentation/concepts/monitoring/user_alerts/ title="User Alerts" class=dd-item><a href=/documentation/concepts/monitoring/user_alerts/>User Alerts</a></li></ul></li><li data-nav-id=/documentation/concepts/networking/ title=Networking class="dd-item
parent"><a href=/documentation/concepts/networking/>Networking</a><ul><li data-nav-id=/components/cert-broker/ title="Cert Broker" class="dd-item
parent
active"><a href=/components/cert-broker/>Cert Broker</a></li><li data-nav-id=/components/dns-cm/ title="DNS Controller Manager" class=dd-item><a href=/components/dns-cm/>DNS Controller Manager</a></li><li data-nav-id=/documentation/concepts/networking/network-policies/ title="Network Policies" class=dd-item><a href=/documentation/concepts/networking/network-policies/>Network Policies</a></li></ul></li></ul></li><li data-nav-id=/documentation/contribute/ title=Contribute class=dd-item><a href=/documentation/contribute/>Contribute</a><ul><li data-nav-id=/contribute/code/ title=Code class=dd-item><a href=/contribute/code/>Code</a><ul><li data-nav-id=/documentation/contribute/10_code/10-contribution_guide/ title="Contribution Guide" class=dd-item><a href=/documentation/contribute/10_code/10-contribution_guide/>Contribution Guide</a></li><li data-nav-id=/documentation/contribute/10_code/12-security_guide/ title="Security Release Process" class=dd-item><a href=/documentation/contribute/10_code/12-security_guide/>Security Release Process</a></li><li data-nav-id=/documentation/contribute/10_code/13_env/ title=Enviroment class=dd-item><a href=/documentation/contribute/10_code/13_env/>Enviroment</a></li><li data-nav-id=/documentation/contribute/10_code/14_cicd/ title=CI/CD class=dd-item><a href=/documentation/contribute/10_code/14_cicd/>CI/CD</a></li><li data-nav-id=/documentation/contribute/10_code/15_conf_secrets/ title="Configuration and Usage" class=dd-item><a href=/documentation/contribute/10_code/15_conf_secrets/>Configuration and Usage</a></li><li data-nav-id=/documentation/contribute/10_code/20_dependencies/ title=Dependencies class=dd-item><a href=/documentation/contribute/10_code/20_dependencies/>Dependencies</a></li><li data-nav-id=/documentation/contribute/10_code/27_deploy_into_cluster/ title="Deploy into a Cluster" class=dd-item><a href=/documentation/contribute/10_code/27_deploy_into_cluster/>Deploy into a Cluster</a></li><li data-nav-id=/documentation/contribute/10_code/30_deploy_seed_into_aks/ title="Deploy into AKS" class=dd-item><a href=/documentation/contribute/10_code/30_deploy_seed_into_aks/>Deploy into AKS</a></li><li data-nav-id=/documentation/contribute/10_code/37_process/ title=Process class=dd-item><a href=/documentation/contribute/10_code/37_process/>Process</a></li><li data-nav-id=/documentation/contribute/10_code/40_repositories/ title=Repositories class=dd-item><a href=/documentation/contribute/10_code/40_repositories/>Repositories</a></li></ul></li><li data-nav-id=/contribute/docs/ title=Documentation class=dd-item><a href=/contribute/docs/>Documentation</a><ul><li data-nav-id=/documentation/contribute/20_documentation/10_organisation/ title=Organisation class=dd-item><a href=/documentation/contribute/20_documentation/10_organisation/>Organisation</a></li><li data-nav-id=/documentation/contribute/20_documentation/20_style/ title="Style Guide" class=dd-item><a href=/documentation/contribute/20_documentation/20_style/>Style Guide</a></li><li data-nav-id=/documentation/contribute/20_documentation/25_markup/ title=Markdown class=dd-item><a href=/documentation/contribute/20_documentation/25_markup/>Markdown</a><ul><li data-nav-id=/documentation/contribute/20_documentation/25_markup/attachments/ title=Attachments class=dd-item><a href=/documentation/contribute/20_documentation/25_markup/attachments/>Attachments</a></li><li data-nav-id=/documentation/contribute/20_documentation/25_markup/button/ title=Button class=dd-item><a href=/documentation/contribute/20_documentation/25_markup/button/>Button</a></li><li data-nav-id=/documentation/contribute/20_documentation/25_markup/expand/ title=Expand class=dd-item><a href=/documentation/contribute/20_documentation/25_markup/expand/>Expand</a></li><li data-nav-id=/documentation/contribute/20_documentation/25_markup/mermaid/ title=Mermaid class=dd-item><a href=/documentation/contribute/20_documentation/25_markup/mermaid/>Mermaid</a></li><li data-nav-id=/documentation/contribute/20_documentation/25_markup/notice/ title=Notice class=dd-item><a href=/documentation/contribute/20_documentation/25_markup/notice/>Notice</a></li></ul></li></ul></li></ul></li><li data-nav-id=/about/ title="Getting Started" class=dd-item><a href=/about/><img class=navigation-icon src=https://gardener.cloud/images/navigation_started.svg>
Getting Started</a></li><li data-nav-id=/documentation/guides/ title="How-To Guides" class=dd-item><a href=/documentation/guides/>How-To Guides</a><ul><li data-nav-id=/documentation/guides/administer_shoots/ title="Administer Client (Shoot) Clusters" class=dd-item><a href=/documentation/guides/administer_shoots/>Administer Client (Shoot) Clusters</a></li><li data-nav-id=/documentation/guides/applications/ title=Applications class=dd-item><a href=/documentation/guides/applications/>Applications</a></li><li data-nav-id=/documentation/guides/client_tools/ title="Set Up Client Tools" class=dd-item><a href=/documentation/guides/client_tools/>Set Up Client Tools</a></li><li data-nav-id=/documentation/guides/gardener-cookies/ title="Gardener Cookies" class=dd-item><a href=/documentation/guides/gardener-cookies/>Gardener Cookies</a></li><li data-nav-id=/documentation/guides/install_gardener/ title="Install Gardener" class=dd-item><a href=/documentation/guides/install_gardener/>Install Gardener</a></li><li data-nav-id=/documentation/guides/monitoring_and_troubleshooting/ title="Monitor and Troubleshoot" class=dd-item><a href=/documentation/guides/monitoring_and_troubleshooting/>Monitor and Troubleshoot</a></li></ul></li><li data-nav-id=/documentation/home/ title=Home class=dd-item><a href=/documentation/home/>Home</a></li><li data-nav-id=/documentation/references/ title="API Reference" class=dd-item><a href=/documentation/references/>API Reference</a><ul><li data-nav-id=/documentation/references/core/ title=Core class=dd-item><a href=/documentation/references/core/>Core</a></li><li data-nav-id=/documentation/references/extensions/ title=Extensions class=dd-item><a href=/documentation/references/extensions/>Extensions</a></li><li data-nav-id=/documentation/references/settings/ title=Settings class=dd-item><a href=/documentation/references/settings/>Settings</a></li></ul></li><li data-nav-id=/documentation/tutorials/ title=Tutorials class=dd-item><a href=/documentation/tutorials/>Tutorials</a><ul><li data-nav-id=/documentation/tutorials/dynamic-pvc/ title="Dynamic Volume Provisioning" class=dd-item><a href=/documentation/tutorials/dynamic-pvc/>Dynamic Volume Provisioning</a></li><li data-nav-id=/documentation/tutorials/featureflag/ title="Feature Flags in Kubernetes Applications" class=dd-item><a href=/documentation/tutorials/featureflag/>Feature Flags in Kubernetes Applications</a></li><li data-nav-id=/documentation/tutorials/gpu/ title="GPU Enabled Cluster" class=dd-item><a href=/documentation/tutorials/gpu/>GPU Enabled Cluster</a></li><li data-nav-id=/documentation/tutorials/knative-install/ title="Install Knative in Gardener clusters" class=dd-item><a href=/documentation/tutorials/knative-install/>Install Knative in Gardener clusters</a></li><li data-nav-id=/documentation/tutorials/node-overprovisioning/ title="Cluster Overprovisioning" class=dd-item><a href=/documentation/tutorials/node-overprovisioning/>Cluster Overprovisioning</a></li><li data-nav-id=/documentation/tutorials/s3/ title="Shared storage with S3 backend" class=dd-item><a href=/documentation/tutorials/s3/>Shared storage with S3 backend</a></li><li data-nav-id=/documentation/tutorials/shoot_istio_dns_certs/ title="Gardener yourself a Shoot with Istio, custom Domains, and Certificates" class=dd-item><a href=/documentation/tutorials/shoot_istio_dns_certs/>Gardener yourself a Shoot with Istio, custom Domains, and Certificates</a></li></ul></li></ul></li><li data-nav-id=/installer/ class=dd-item><a href=/installer/></a></li><li data-nav-id=/news/ title=News class=dd-item></li></ul><section id=footer><script async defer src=https://buttons.github.io/buttons.js></script></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable body-inner-wrapper"><div><div id=top-bar><div id=top-github-link><a class=github-link title="Edit this page" href=https://github.com/gardener/cert-management/edit/master/README.md target=blank><i class="fa fa-code-fork"></i><span id=top-github-link-text>Edit this page</span></a></div><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fa fa-bars"></i></a></span><span id=toc-menu><i class="fa fa-list-alt"></i></span><span class=links><a href=/>Gardener</a> > <a href=/documentation/>Home</a> > <a href=/documentation/concepts/>Concepts</a> > <a href=/documentation/concepts/networking/>Networking</a> > Cert Broker</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#setting-up-issuers>Setting up Issuers</a><ul><li><a href=#auto-registration>Auto registration</a></li><li><a href=#using-existing-account>Using existing account</a></li></ul></li><li><a href=#requesting-a-certificate>Requesting a Certificate</a><ul><li><a href=#using-commonname-and-optional-dnsnames>Using <code>commonName</code> and optional <code>dnsNames</code></a></li><li><a href=#using-a-certificate-signing-request-csr>Using a certificate signing request (CSR)</a></li></ul></li><li><a href=#requesting-a-certificate-for-ingress>Requesting a Certificate for Ingress</a><ul><li><a href=#process>Process</a></li></ul></li><li><a href=#requesting-a-certificate-for-service>Requesting a Certificate for Service</a></li><li><a href=#demo-quick-start>Demo quick start</a></li><li><a href=#using-the-cert-controller-manager>Using the cert-controller-manager</a><ul><li><a href=#usage>Usage</a></li></ul></li><li><a href=#development>Development</a></li></ul></nav></div></div></div></div><div id=githubFactsheet><span id=githubLink><i class="fa fa-github"></i><a target=_blank href=https://github.com/gardener/cert-management/>https://github.com/gardener/cert-management/</a></span>
<a class=github-button href=https://github.com/gardener aria-label="Follow @gardener on GitHub">Follow @cert-management/</a>
<a class=github-button href=https://github.com/gardener/cert-management/ data-show-count=true aria-label="Star gardener/gardener on GitHub">Star</a><div class=tutorial-last-update>Updated <span><span data-publishdate="2019-08-14 13:39:45"></span></span>by
<a href=mailto:gardener.opensource@sap.com><img class=user-icon src title="Gardener Development Community"></a>
<a href=mailto:martin.weindel@sap.com><img class=user-icon src="https://avatars1.githubusercontent.com/u/3703277?v=4" title="Martin Weindel"></a>
<a href=mailto:matthias.sohn@sap.com><img class=user-icon src="https://avatars0.githubusercontent.com/u/143355?v=4" title="Matthias Sohn"></a></div></div><div id=body-inner><br><br><h1 id=cert-management>cert-management</h1><p>Manages TLS certificates in Kubernetes clusters using custom resources.
Currently, it supports certificate authorities using the <a href=https://en.wikipedia.org/wiki/Automated_Certificate_Management_Environment>Automatic Certificate Management Environment (ACME)</a> like <a href=https://letsencrypt.org/>Let&rsquo;s Encrypt</a>.</p><p>In a multi-cluster environment like Gardener, using existing open source projects
for certificate management like <a href=https://github.com/jetstack/cert-manager>cert-manager</a> becomes cumbersome.
With this project the separation of concerns between multiple clusters is realized more easily.
The cert-controller-manager runs in a <strong>secured cluster</strong> where the issuer secrets are stored.
At the same time it watches an untrusted <strong>source cluster</strong> and can provide certificates for it.
The cert-controller-manager relies on DNS challenges for validating the domain names of the certificates.
For this purpose it creates DNSEntry custom resources (in a possible separate <strong>dns cluster</strong>) to be handled by the compagnion dns-controller-manager from <a href=https://github.com/gardener/external-dns-management>external-dns-management</a>.</p><h2 id=setting-up-issuers>Setting up Issuers</h2><p>Before you can obtain certificates from a certificate authority (CA), you need to set up an issuer.
The issuer is specified in the <code>default</code> cluster, while the certificates are specified in the <code>source</code> cluster.</p><p>The issuer custom resource contains the configuration and registration data for your account at the CA.</p><p>Currently, the <code>cert-controller-manager</code> only supports certificate authorities via the
<a href=https://en.wikipedia.org/wiki/Automated_Certificate_Management_Environment>Automatic Certificate Management Environment (ACME)</a> protocol like <a href=https://letsencrypt.org/>Let&rsquo;s Encrypt</a>.</p><p>Two modes are supported:</p><ul><li>auto registration</li><li>using an existing account</li></ul><h3 id=auto-registration>Auto registration</h3><p>Auto registration is mainly used for development and test environments. You only need to provide
the server URL and an email address. The registration process is done automatically for you
by creating a private key and performing the registration at the CA. Optionally you can provide
the target secret with the privateKeySecretRef section.</p><p>For example see <a href=https://raw.githubusercontent.com/gardener/cert-management/master/examples/20-issuer-staging.yaml>examples/20-issuer-staging.yaml</a>:</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=k>apiVersion</span><span class=p>:</span><span class=w> </span>cert.gardener.cloud/v1alpha1<span class=w>
</span><span class=w></span><span class=k>kind</span><span class=p>:</span><span class=w> </span>Issuer<span class=w>
</span><span class=w></span><span class=k>metadata</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=k>name</span><span class=p>:</span><span class=w> </span>issuer-staging<span class=w>
</span><span class=w>  </span><span class=k>namespace</span><span class=p>:</span><span class=w> </span>default<span class=w>
</span><span class=w></span><span class=k>spec</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=k>acme</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=k>server</span><span class=p>:</span><span class=w> </span>https<span class=p>:</span>//acme-staging-v02.api.letsencrypt.org/directory<span class=w>
</span><span class=w>    </span><span class=k>email</span><span class=p>:</span><span class=w> </span>some.user@mydomain.com<span class=w>
</span><span class=w>    </span><span class=k>autoRegistration</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w>    </span><span class=c># with &#39;autoRegistration: true&#39; a new account will be created if the secretRef is not existing</span><span class=w>
</span><span class=w>    </span><span class=k>privateKeySecretRef</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=k>name</span><span class=p>:</span><span class=w> </span>issuer-staging-secret<span class=w>
</span><span class=w>      </span><span class=k>namespace</span><span class=p>:</span><span class=w> </span>default<span class=w>
</span></code></pre></div><h3 id=using-existing-account>Using existing account</h3><p>If you already have an existing account at the certificate authority, you need to
specify email address and reference the private key from a secret.</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=k>apiVersion</span><span class=p>:</span><span class=w> </span>v1<span class=w>
</span><span class=w></span><span class=k>kind</span><span class=p>:</span><span class=w> </span>Secret<span class=w>
</span><span class=w></span><span class=k>metadata</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=k>name</span><span class=p>:</span><span class=w> </span>my-issuer-secret<span class=w>
</span><span class=w>  </span><span class=k>namespace</span><span class=p>:</span><span class=w> </span>default<span class=w>
</span><span class=w></span><span class=k>type</span><span class=p>:</span><span class=w> </span>Opaque<span class=w>
</span><span class=w></span><span class=k>data</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=k>privateKey</span><span class=p>:</span><span class=w> </span>LS0tLS1...<span class=w>
</span></code></pre></div><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=k>apiVersion</span><span class=p>:</span><span class=w> </span>cert.gardener.cloud/v1alpha1<span class=w>
</span><span class=w></span><span class=k>kind</span><span class=p>:</span><span class=w> </span>Issuer<span class=w>
</span><span class=w></span><span class=k>metadata</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=k>name</span><span class=p>:</span><span class=w> </span>my-issuer<span class=w>
</span><span class=w>  </span><span class=k>namespace</span><span class=p>:</span><span class=w> </span>default<span class=w>
</span><span class=w></span><span class=k>spec</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=k>acme</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=k>server</span><span class=p>:</span><span class=w> </span>https<span class=p>:</span>//acme-v02.api.letsencrypt.org/directory<span class=w>
</span><span class=w>    </span><span class=k>email</span><span class=p>:</span><span class=w> </span>my.account@mydomain.com<span class=w>
</span><span class=w>    </span><span class=k>privateKeySecretRef</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=k>name</span><span class=p>:</span><span class=w> </span>my-issuer-secret<span class=w>
</span><span class=w>      </span><span class=k>namespace</span><span class=p>:</span><span class=w> </span>default<span class=w>
</span></code></pre></div><p>In both cases, the state of an issuer resource can be checked on the <code>default</code> cluster with</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>▶ kubectl get issuer
NAME             SERVER                                                   EMAIL                    STATUS   TYPE   AGE
issuer-staging   https://acme-staging-v02.api.letsencrypt.org/directory   some.user@mydomain.com   Ready    acme   8s
</code></pre></div><h2 id=requesting-a-certificate>Requesting a Certificate</h2><p>To obtain a certificate for a domain, you specify a certificate custom resource on the <code>source</code> cluster.
You can specify the issuer explicitly by reference. If there is no issuer reference, the default issuer is
used (provided as command line option). You must either specify the <code>commonName</code> and further optional <code>dnsNames</code> or
you can also start with a certificate signing request (CSR).</p><p>For domain validation, the <code>cert-controller-manager</code> only supports DNS challenges. For this purpose it relies
on the <code>dns-controller-manager</code> from the <a href=https://github.com/gardener/external-dns-management>external-dns-management</a>
project.
If any domain name (<code>commonName</code> or any item from <code>dnsNames</code>) needs to be validated, it create a custom resource
<code>DNSEntry</code> in the <code>dns</code> cluster.
When the certificate authority sees the temporary DNS record, the certificate is stored in a secret finally.
The name of the secret can be specified explicitly with <code>secretName</code> and will be stored in the same namespace as the
certificate on the <code>source</code> cluster.</p><p>The certificate is checked for renewal periodically. The renewal is performed automatically and the secret is updated.
Default values for periodical check is daily, the certificate is renewed if its validity expires within 60 days.</p><h3 id=using-commonname-and-optional-dnsnames>Using <code>commonName</code> and optional <code>dnsNames</code></h3><p>For example see <a href=https://raw.githubusercontent.com/gardener/cert-management/master/examples/30-cert-simple.yaml>examples/30-cert-simple.yaml</a>:</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=k>apiVersion</span><span class=p>:</span><span class=w> </span>cert.gardener.cloud/v1alpha1<span class=w>
</span><span class=w></span><span class=k>kind</span><span class=p>:</span><span class=w> </span>Certificate<span class=w>
</span><span class=w></span><span class=k>metadata</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=k>name</span><span class=p>:</span><span class=w> </span>cert-simple<span class=w>
</span><span class=w>  </span><span class=k>namespace</span><span class=p>:</span><span class=w> </span>default<span class=w>
</span><span class=w></span><span class=k>spec</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=k>commonName</span><span class=p>:</span><span class=w> </span>cert1.mydomain.com<span class=w>
</span><span class=w>  </span><span class=k>dnsNames</span><span class=p>:</span><span class=w>
</span><span class=w>  </span>- cert1-foo.mydomain.com<span class=w>
</span><span class=w>  </span>- cert1-bar.mydomain.com<span class=w>
</span><span class=w>  </span><span class=c># if issuer is not specified, the default issuer is used</span><span class=w>
</span><span class=w>  </span><span class=k>issuerRef</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=k>name</span><span class=p>:</span><span class=w> </span>issuer-staging<span class=w>
</span></code></pre></div><h3 id=using-a-certificate-signing-request-csr>Using a certificate signing request (CSR)</h3><p>You can provide a complete CSR in PEM format (and encoded as Base64).</p><p>For example see <a href=https://raw.githubusercontent.com/gardener/cert-management/master/examples/30-cert-csr.yaml>examples/30-cert-csr.yaml</a>:</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=k>apiVersion</span><span class=p>:</span><span class=w> </span>cert.gardener.cloud/v1alpha1<span class=w>
</span><span class=w></span><span class=k>kind</span><span class=p>:</span><span class=w> </span>Certificate<span class=w>
</span><span class=w></span><span class=k>metadata</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=k>name</span><span class=p>:</span><span class=w> </span>cert-csr<span class=w>
</span><span class=w>  </span><span class=k>namespace</span><span class=p>:</span><span class=w> </span>default<span class=w>
</span><span class=w></span><span class=k>spec</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=k>csr</span><span class=p>:</span><span class=w> </span>LS0tLS1CRUd...<span class=w>
</span><span class=w>  </span><span class=k>issuerRef</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=k>name</span><span class=p>:</span><span class=w> </span>issuer-staging<span class=w>
</span></code></pre></div><h2 id=requesting-a-certificate-for-ingress>Requesting a Certificate for Ingress</h2><p>Add the annotation <code>cert.gardener.cloud/purpose: managed</code> to the Ingress resource.
The <code>cert-controller-manager</code> will then automatically request a certificate for all domains given by the hosts in the
<code>tls</code> section of the Ingress spec.</p><p>For compatibility with the <a href=https://github.com/gardener/cert-broker>Gardener Cert-Broker</a>, you can
alternatively use the label <code>garden.sapcloud.io/purpose: managed-cert</code> for the same outcome.</p><p>See also <a href=https://raw.githubusercontent.com/gardener/cert-management/master/examples/40-ingress-echoheaders.yaml>examples/40-ingress-echoheaders.yaml</a>:</p><h3 id=process>Process</h3><ol><li><p>Create the Ingress Resource (optional)</p><p>In order to request a certificate for a domain managed by <code>cert-controller-manager</code> an Ingress is required.
In case you don’t already have one, take the following as an example:</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=k>apiVersion</span><span class=p>:</span><span class=w> </span>networking.k8s.io/v1beta1<span class=w>
</span><span class=w></span><span class=k>kind</span><span class=p>:</span><span class=w> </span>Ingress<span class=w>
</span><span class=w></span><span class=k>metadata</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=k>name</span><span class=p>:</span><span class=w> </span>vuejs-ingress<span class=w>
</span><span class=w></span><span class=k>spec</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=k>tls</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=c># Gardener managed default domain.</span><span class=w>
</span><span class=w>  </span><span class=c># Must not exceed 64 characters.</span><span class=w>
</span><span class=w>  </span>- <span class=k>hosts</span><span class=p>:</span><span class=w>
</span><span class=w>    </span>- test.ingress.&lt;GARDENER-CLUSTER&gt;.&lt;GARDENER-PROJECT&gt;.shoot.example.com<span class=w>
</span><span class=w>    </span><span class=c># Certificate and private key reside in this secret.</span><span class=w>
</span><span class=w>    </span><span class=k>secretName</span><span class=p>:</span><span class=w> </span>testsecret-tls<span class=w>
</span><span class=w>  </span><span class=k>rules</span><span class=p>:</span><span class=w>
</span><span class=w>  </span>- <span class=k>host</span><span class=p>:</span><span class=w> </span>test.ingress.&lt;GARDENER-CLUSTER&gt;.&lt;GARDENER-PROJECT&gt;.shoot.example.com<span class=w>
</span><span class=w>    </span><span class=k>http</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=k>paths</span><span class=p>:</span><span class=w>
</span><span class=w>      </span>- <span class=k>backend</span><span class=p>:</span><span class=w>
</span><span class=w>          </span><span class=k>serviceName</span><span class=p>:</span><span class=w> </span>vuejs-svc<span class=w>
</span><span class=w>          </span><span class=k>servicePort</span><span class=p>:</span><span class=w> </span><span class=m>8080</span><span class=w>
</span></code></pre></div></li><li><p>Annotate the Ingress Resource</p><p>The annotation <code>cert.gardener.cloud/purpose: managed</code> instructs <code>cert-controller-manager</code> to handle certificate issuance for the domains found in labeled Ingress.</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=k>apiVersion</span><span class=p>:</span><span class=w> </span>networking.k8s.io/v1beta1<span class=w>
</span><span class=w></span><span class=k>kind</span><span class=p>:</span><span class=w> </span>Ingress<span class=w>
</span><span class=w></span><span class=k>metadata</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=k>name</span><span class=p>:</span><span class=w> </span>tls-example-ingress<span class=w>
</span><span class=w>  </span><span class=k>annotations</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=c># Let Gardener manage certificates for this Ingress.</span><span class=w>
</span><span class=w>    </span><span class=k>cert.gardener.cloud/purpose</span><span class=p>:</span><span class=w> </span>managed<span class=w>
</span><span class=w></span>...<span class=w>
</span></code></pre></div></li><li><p>Check status</p><p>A <code>certificate</code> custom resource is created in the same namespace of the <code>source</code> cluster.
You can either check the status of this certificate resource with <code>kubectl get cert</code> or you can check
the events for the ingress with <code>kubectl get events</code></p><p>The certificate is stored in the secret as specified in the Ingress resource.</p></li></ol><h2 id=requesting-a-certificate-for-service>Requesting a Certificate for Service</h2><p>If you have a service of type <code>LoadBalancer</code>, you can use the annotation <code>cert.gardener.cloud/secretname</code> together
with the annotation <code>dns.gardener.cloud/dnsnames</code> from the <code>dns-controller-manager</code> to trigger automatic creation of a certificate.</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=k>apiVersion</span><span class=p>:</span><span class=w> </span>v1<span class=w>
</span><span class=w></span><span class=k>kind</span><span class=p>:</span><span class=w> </span>Service<span class=w>
</span><span class=w></span><span class=k>metadata</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=k>annotations</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=k>cert.gardener.cloud/secretname</span><span class=p>:</span><span class=w> </span>test-service-secret<span class=w>
</span><span class=w>    </span><span class=k>dns.gardener.cloud/dnsnames</span><span class=p>:</span><span class=w> </span>test-service.demo.mydomain.com<span class=w>
</span><span class=w>    </span><span class=k>dns.gardener.cloud/ttl</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;600&#34;</span><span class=w>
</span><span class=w>  </span><span class=k>name</span><span class=p>:</span><span class=w> </span>test-service<span class=w>
</span><span class=w>  </span><span class=k>namespace</span><span class=p>:</span><span class=w> </span>default<span class=w>
</span><span class=w></span><span class=k>spec</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=k>ports</span><span class=p>:</span><span class=w>
</span><span class=w>  </span>- <span class=k>name</span><span class=p>:</span><span class=w> </span>http<span class=w>
</span><span class=w>    </span><span class=k>port</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span><span class=w>    </span><span class=k>protocol</span><span class=p>:</span><span class=w> </span>TCP<span class=w>
</span><span class=w>    </span><span class=k>targetPort</span><span class=p>:</span><span class=w> </span><span class=m>8080</span><span class=w>
</span><span class=w>  </span><span class=k>type</span><span class=p>:</span><span class=w> </span>LoadBalancer<span class=w>
</span></code></pre></div><h2 id=demo-quick-start>Demo quick start</h2><ol><li><p>Run dns-controller-manager with:</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>./dns-controller-manager --controllers<span class=o>=</span>azure-dns --identifier<span class=o>=</span>myOwnerId --disable-namespace-restriction
</code></pre></div></li><li><p>Ensure provider and its secret, e.g.</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>kubectl apply -f azure-secret.yaml
kubectl apply -f azure-provider.yaml
</code></pre></div><ul><li><p>check with</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>▶ kubectl get dnspr
NAME               TYPE        STATUS   AGE
azure-playground   azure-dns   Ready    28m
</code></pre></div></li></ul></li><li><p>Create test namespace</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>kubectl create ns <span class=nb>test</span>
</code></pre></div></li><li><p>Run cert-controller-manager</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>./cert-controller-manager
</code></pre></div></li><li><p>Register user <code>some.user@mydomain.com</code> at let&rsquo;s encrypt</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>kubectl apply -f examples/20-issuer-staging.yaml
</code></pre></div><ul><li><p>check with</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>▶ kubectl get issuer
NAME             SERVER                                                   EMAIL                    STATUS   TYPE   AGE
issuer-staging   https://acme-staging-v02.api.letsencrypt.org/directory   some.user@mydomain.com   Ready    acme   8s
</code></pre></div></li></ul></li><li><p>Request a certificate for <code>cert1.martin.test6227.ml</code></p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>kubectl apply -f examples/30-cert-simple.yaml
</code></pre></div><p>If this certificate has been already registered for the same issuer before,
it will be returned immediately from the ACME server.
Otherwise a DNS challenge is started using a temporary DNSEntry to be set by <code>dns-controller-manager</code></p><ul><li><p>check with</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>▶ kubectl get cert -o wide
NAME          COMMON NAME           ISSUER           STATUS   EXPIRATION_DATE        DNS_NAMES                 AGE
cert-simple   cert1.mydomain.com    issuer-staging   Ready    2019-11-10T09:48:17Z   <span class=o>[</span>cert1.my-domain.com<span class=o>]</span>     34s
</code></pre></div></li></ul></li></ol><h2 id=using-the-cert-controller-manager>Using the cert-controller-manager</h2><p>The cert-controller-manager communicated with up to four different clusters:</p><ul><li><strong>default</strong>
used for managing issuers and lease management.
The path to the kubeconfig is specified with command line option <code>--kubeconfig</code>.</li><li><strong>source</strong>
used for watching resources ingresses, services and certificates
The path to the kubeconfig is specified with command line option <code>--source</code>.
If option is omitted, the default cluster is used for source.</li><li><strong>dns</strong>
used to write temporary DNSEntries for DNS challenges
The path to the kubeconfig is specified with command line option <code>--dns</code>.<br>If option is omitted, the default cluster is used for dns.</li><li><strong>target</strong>
used for storing generated certificates
The path to the kubeconfig is specified with command line option <code>--target</code>.<br>If option is omitted, the source cluster is also used for target.</li></ul><h3 id=usage>Usage</h3><p>The complete list of options is:</p><div class=highlight><pre class=chroma><code class=language-text data-lang=text>Usage:
  cert-controller-manager [flags]

Flags:
      --cascade-delete                                     default for all controller &#34;cascade-delete&#34; options
      --cert-class string                                  default for all controller &#34;cert-class&#34; options
      --cert-target-class string                           default for all controller &#34;cert-target-class&#34; options
  -c, --controllers string                                 comma separated list of controllers to start (&lt;name&gt;,source,target,all) (default &#34;all&#34;)
      --cpuprofile string                                  set file for cpu profiling
      --default-issuer string                              default for all controller &#34;default-issuer&#34; options
      --default-issuer-domain-ranges string                default for all controller &#34;default-issuer-domain-ranges&#34; options
      --disable-namespace-restriction                      disable access restriction for namespace local access only
      --dns string                                         cluster for writing challenge DNS entries
      --dns-class string                                   default for all controller &#34;dns-class&#34; options
      --dns-namespace string                               default for all controller &#34;dns-namespace&#34; options
      --dns-owner-id string                                default for all controller &#34;dns-owner-id&#34; options
      --dns.disable-deploy-crds                            disable deployment of required crds for cluster dns
      --dns.id string                                      id for cluster dns
      --grace-period duration                              inactivity grace period for detecting end of cleanup for shutdown
  -h, --help                                               help for cert-controller-manager
      --ingress-cert.cert-class string                     Identifier used to differentiate responsible controllers for entries
      --ingress-cert.cert-target-class string              Identifier used to differentiate responsible dns controllers for target entries
      --ingress-cert.default.pool.resync-period duration   Period for resynchronization of pool default of controller ingress-cert (default: 2m0s)
      --ingress-cert.default.pool.size int                 Worker pool size for pool default of controller ingress-cert (default: 2)
      --ingress-cert.target-name-prefix string             name prefix in target namespace for cross cluster generation
      --ingress-cert.target-namespace string               target namespace for cross cluster generation
      --ingress-cert.targets.pool.size int                 Worker pool size for pool targets of controller ingress-cert (default: 2)
      --issuer-namespace string                            default for all controller &#34;issuer-namespace&#34; options
      --issuer.cascade-delete                              If true, certificate secrets are deleted if dependent resources (certificate, ingress) are deleted
      --issuer.cert-class string                           Identifier used to differentiate responsible controllers for entries
      --issuer.default-issuer string                       name of default issuer (from default cluster)
      --issuer.default-issuer-domain-ranges string         domain range restrictions when using default issuer separated by comma
      --issuer.default.pool.resync-period duration         Period for resynchronization of pool default of controller issuer (default: 24h0m0s)
      --issuer.default.pool.size int                       Worker pool size for pool default of controller issuer (default: 2)
      --issuer.dns-class string                            class for creating challenge DNSEntries (in DNS cluster)
      --issuer.dns-namespace string                        namespace for creating challenge DNSEntries (in DNS cluster)
      --issuer.dns-owner-id string                         ownerId for creating challenge DNSEntries
      --issuer.issuer-namespace string                     namespace to lookup issuers on default cluster
      --issuer.issuers.pool.size int                       Worker pool size for pool issuers of controller issuer (default: 1)
      --issuer.precheck-additional-wait duration           additional wait time after DNS propagation check
      --issuer.precheck-nameservers string                 DNS nameservers used for checking DNS propagation. If explicity set empty, it is tried to read them from /etc/resolv.conf
      --issuer.renewal-window duration                     certificate is renewed if its validity period is shorter
      --issuer.secrets.pool.size int                       Worker pool size for pool secrets of controller issuer (default: 1)
      --kubeconfig string                                  default cluster access
      --kubeconfig.disable-deploy-crds                     disable deployment of required crds for cluster default
      --kubeconfig.id string                               id for cluster default
  -D, --log-level string                                   logrus log level
      --name string                                        name used for controller manager
      --namespace string                                   namespace for lease
  -n, --namespace-local-access-only                        enable access restriction for namespace local access only (deprecated)
      --omit-lease                                         omit lease for development
      --plugin-dir string                                  directory containing go plugins
      --pool.resync-period duration                        default for all controller &#34;pool.resync-period&#34; options
      --pool.size int                                      default for all controller &#34;pool.size&#34; options
      --precheck-additional-wait duration                  default for all controller &#34;precheck-additional-wait&#34; options
      --precheck-nameservers string                        default for all controller &#34;precheck-nameservers&#34; options
      --renewal-window duration                            default for all controller &#34;renewal-window&#34; options
      --server-port-http int                               HTTP server port (serving /healthz, /metrics, ...)
      --service-cert.cert-class string                     Identifier used to differentiate responsible controllers for entries
      --service-cert.cert-target-class string              Identifier used to differentiate responsible dns controllers for target entries
      --service-cert.default.pool.resync-period duration   Period for resynchronization of pool default of controller service-cert (default: 2m0s)
      --service-cert.default.pool.size int                 Worker pool size for pool default of controller service-cert (default: 2)
      --service-cert.target-name-prefix string             name prefix in target namespace for cross cluster generation
      --service-cert.target-namespace string               target namespace for cross cluster generation
      --service-cert.targets.pool.size int                 Worker pool size for pool targets of controller service-cert (default: 2)
      --source string                                      source cluster to watch for ingresses and services
      --source.disable-deploy-crds                         disable deployment of required crds for cluster source
      --source.id string                                   id for cluster source
      --target string                                      target cluster for certificates
      --target-name-prefix string                          default for all controller &#34;target-name-prefix&#34; options
      --target-namespace string                            default for all controller &#34;target-namespace&#34; options
      --target.disable-deploy-crds                         disable deployment of required crds for cluster target
      --target.id string                                   id for cluster target
</code></pre></div><h2 id=development>Development</h2><p>For development it is recommended to use the issuer-staging</p></div></div><div class=howto_tickets><span class=open_github_ticket><h3 class=open_github_ticket_header><img src=https://gardener.cloud/images/branding/github.svg> Report an issue</h3>See a typo? Have a picture to recommend? Want to edit some words/phrases/sentences?
You can simply submit a ticket to request we make the change. If you are github savvy, submit a
pull request.
<a href=# onclick="return createIssue('https://github.com/gardener/cert-management\//issues/new','https:\/\/github.com\/gardener\/cert-management.git','https:\/\/github.com\/gardener\/cert-management.git')" target=_blank>Open Github Issue <i class="fa fa-external-link" aria-hidden=true></i></a><br></span></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/js/clipboard.min.js?1594993506></script><script src=/js/perfect-scrollbar.min.js?1594993506></script><script src=/js/perfect-scrollbar.jquery.min.js?1594993506></script><script src=/js/jquery.sticky.js?1594993506></script><script src=/js/featherlight.min.js?1594993506></script><script src=/js/html5shiv-printshiv.min.js?1594993506></script><script src=/js/modernizr.custom.71422.js?1594993506></script><script src=/js/learn.js?1594993506></script><script src=/js/hugo-learn.js?1594993506></script><link href=/mermaid/mermaid.css?1594993506 type=text/css rel=stylesheet><script src=/mermaid/mermaid.js?1594993506></script><script src=/js/code-snippets.js?1594993506></script><script>mermaid.initialize({startOnLoad:true,htmlLables:true});function createIssue(issueUrl,page,url){var uri=issueUrl+"?title=Documentation issue on page \""+page+"\"";uri=uri+"&body=\n\n<- DESCRIBE MISSING OR FAULTY DOCUMENTATION HERE->\n\n---\nPage: ["+page+"]("+
url+")\ndon't remove the link to the page. It's required for the processor"
var res=encodeURI(uri);res+="&labels=area/documentation"
window.open(res,"issue")
return false;}
$(document).ready(function(){inlineSVG.init();$("body").codeSnippets();});</script><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W2FGNSX" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><script>function setMenuHeight(){$('#sidebar .highlightable').height($('#sidebar').innerHeight()-$('#header-wrapper').height()-40);$('#sidebar .highlightable').perfectScrollbar('update');var $blockList=$('#sidebar .highlightable');if($blockList.length&&window.localStorage){var position=localStorage.getItem('blockListScrollPosition');if(position){$blockList.scrollTop(position);}
$(window).on('unload',function(){var scrollPosition=$blockList.scrollTop();localStorage.setItem('blockListScrollPosition',scrollPosition);});}}
(function(){$("#body-inner a").not(".inline").each(function(){if(this.hostname!=window.location.hostname&&this.href.indexOf("mailto:")===-1){this.target='_blank';$(this).addClass("externalLink");if($(this).find("img").length===0){this.innerHTML+='<i class="fa fa-external-link" aria-hidden="true"></i>';}}});})();</script></body></html>