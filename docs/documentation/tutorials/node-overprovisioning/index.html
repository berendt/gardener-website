<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Project Gardener Website - A Managed Kubernetes Service Done Right"><meta name=copyright content="Copyright 2019 Gardener project authors."><title>Cluster Overprovisioning :: Gardener</title><link rel=icon type=image/x-icon href=https://gardener.cloud/images/favicon.ico><link rel=icon type=image/png href=https://gardener.cloud/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=https://gardener.cloud/images/favicon-16x16.png sizes=16x16><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-W2FGNSX');</script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-165447164-1');</script><link href=/css/nucleus.css?1592565189 rel=stylesheet><link href=/css/font-awesome.min.css?1592565189 rel=stylesheet><link href=/css/hybrid.css?1592565189 rel=stylesheet><link href=/css/featherlight.min.css?1592565189 rel=stylesheet><link href=/css/perfect-scrollbar.min.css?1592565189 rel=stylesheet><link href=/css/auto-complete.css?1592565189 rel=stylesheet><link href=/css/skeleton.css?1592565189 rel=stylesheet><link href=/css/sheetslider.css?1592565189 rel=stylesheet><link rel=stylesheet href=/css/gardener.7b1bb2c2e7c9bb22888d60a0eadb3dd44619a3bcc087f76331b270c88823254b.css><script src=/js/moment.js?1592565189></script><script src=/js/vivus.js?1592565189></script><script src=/js/scrollreveal.js?1592565189></script><script src=/js/inlineSVG.js?1592565189></script><script src=/js/jquery.min.js?1592565189></script><script src=/js/fixed.js?1592565189></script><script src=/js/clipboard.min.js?1592565189></script><script src=https://platform.linkedin.com/in.js type=text/javascript>lang:en_US</script></head><body data-url=/documentation/tutorials/node-overprovisioning/ class=has-sticky-navigation><script>$(document).ready(function(){function initStickyNav(){var stickyPoint;var tln=document.querySelector(".tln");if(!tln){return;}
var stickyPointEl=document.querySelector(".sticky-nav-point");if(stickyPointEl==null){stickyPointEl=document.querySelector("body");stickyPoint=0;}else{stickyPoint=stickyPointEl.clientHeight+stickyPointEl.offsetTop;}
var bodySelector=document.getElementsByTagName("body")[0];var tlnHeight=tln.clientHeight;var stickyNavigation=function(){if(window.pageYOffset+tlnHeight>=stickyPoint){bodySelector.classList.add("has-sticky-navigation");tln.classList.add("sticky-top");}else{bodySelector.classList.remove("has-sticky-navigation");tln.classList.remove("sticky-top");}}
window.onscroll=function(){stickyNavigation();};}
initStickyNav();});</script><div class="tln fixedsticky sticky-top"><header class=navigation><div class=container><div class=navigation-wrapper><a href=/ class=logo><img src=/images/logo.svg>
<span class=title>Gardener</span></a>
<a class="nav-button navbar-toggler" href=#><i class="fa fa-bars"></i></a><div class=navbar-collapse><ul class=links><li class=link><a href=/blog/>Blogs</a></li><li class=link><a href=/community/>Community</a></li><li class=link><a href=/adopter/>Adopters</a></li><li class="link has-child active"><a href=/documentation/home>Documentation</a><nav class="container menu"><ul class="topics links"><li data-nav-id=/documentation/home/ title=Home class="dd-item link root" data-depth=0><a href=/documentation/home/><span class=menu-item-text>Home</span></a></li><li data-nav-id=/documentation/concepts/ title=Concepts class="dd-item link root" data-depth=0><a href=/documentation/concepts/><span class=menu-item-text>Concepts</span></a><ul><li data-nav-id=/documentation/concepts/architecture/ title=Architecture class="dd-item link top-level" data-depth=1><a href=/documentation/concepts/architecture/><span class=menu-item-text>Architecture</span></a><ul><li data-nav-id=/components/gardener/ title=Gardener class="dd-item link" data-depth=2><a href=/components/gardener/><span class=menu-item-text>Gardener</span></a></li><li data-nav-id=/components/gardenctl/ title=gardenctl class="dd-item link" data-depth=2><a href=/components/gardenctl/><span class=menu-item-text>gardenctl</span></a></li><li data-nav-id=/components/dashboard/ title=Dashboard class="dd-item link" data-depth=2><a href=/components/dashboard/><span class=menu-item-text>Dashboard</span></a></li><li data-nav-id=/components/kubify/ title=kubify class="dd-item link" data-depth=2><a href=/components/kubify/><span class=menu-item-text>kubify</span></a></li><li data-nav-id=/components/bouquet/ title=Bouquet class="dd-item link" data-depth=2><a href=/components/bouquet/><span class=menu-item-text>Bouquet</span></a></li></ul></li><li data-nav-id=/documentation/concepts/backup-restore/ title="Backup and Restore" class="dd-item link top-level" data-depth=1><a href=/documentation/concepts/backup-restore/><span class=menu-item-text>Backup and Restore</span></a></li><li data-nav-id=/documentation/concepts/core-components/ title="Core Components" class="dd-item link top-level" data-depth=1><a href=/documentation/concepts/core-components/api-server><span class=menu-item-text>Core Components</span></a><ul><li data-nav-id=/documentation/concepts/core-components/api-server/ title="Gardener API Server" class="dd-item link" data-depth=2><a href=/documentation/concepts/core-components/api-server/><span class=menu-item-text>Gardener API Server</span></a><ul><li data-nav-id=/documentation/concepts/core-components/api-server/admission-plugins/ title="In-Tree Admission Plugins" class="dd-item link" data-depth=3><a href=/documentation/concepts/core-components/api-server/admission-plugins/><span class=menu-item-text>In-Tree Admission Plugins</span></a></li></ul></li><li data-nav-id=/documentation/concepts/core-components/gardenlet/ title=Gardenlet class="dd-item link" data-depth=2><a href=/documentation/concepts/core-components/gardenlet/><span class=menu-item-text>Gardenlet</span></a></li><li data-nav-id=/documentation/concepts/core-components/scheduler/ title="Gardener Scheduler" class="dd-item link" data-depth=2><a href=/documentation/concepts/core-components/scheduler/><span class=menu-item-text>Gardener Scheduler</span></a></li><li data-nav-id=/documentation/concepts/core-components/seed-admission-ctrl/ title="Gardener Seed Admission Controller" class="dd-item link" data-depth=2><a href=/documentation/concepts/core-components/seed-admission-ctrl/><span class=menu-item-text>Gardener Seed Admission Controller</span></a></li></ul></li><li data-nav-id=/documentation/concepts/deployment/in_kubernetes/ title="Deploying the Gardener into a Kubernetes cluster" class=dd-item><a href=/documentation/concepts/deployment/in_kubernetes/><span class=toggle></span><span class=menu-item-text></span>Deploying the Gardener into a Kubernetes cluster</span></a></a></li><li data-nav-id=/documentation/concepts/deployment/feature_gates/ title="Feature Gates" class=dd-item><a href=/documentation/concepts/deployment/feature_gates/><span class=toggle></span><span class=menu-item-text></span>Feature Gates</span></a></a></li><li data-nav-id=/documentation/concepts/extensions/ title=Extensions class="dd-item link top-level" data-depth=1><a href=/documentation/concepts/extensions/><span class=menu-item-text>Extensions</span></a><ul><li data-nav-id=/documentation/concepts/extensions/ctrl-registration/ title="Extension controller registration" class="dd-item link" data-depth=2><a href=/documentation/concepts/extensions/ctrl-registration/><span class=menu-item-text>Extension controller registration</span></a></li></ul></li><li data-nav-id=/documentation/concepts/mcm/ title="Machine Controller Manager" class="dd-item link top-level" data-depth=1><a href=/documentation/concepts/mcm/><span class=menu-item-text>Machine Controller Manager</span></a></li><li data-nav-id=/documentation/concepts/monitoring/ title=Monitoring class="dd-item link top-level" data-depth=1><a href=/documentation/concepts/monitoring/><span class=menu-item-text>Monitoring</span></a><ul><li data-nav-id=/documentation/concepts/monitoring/alerting/ title=Alerting class=dd-item><a href=/documentation/concepts/monitoring/alerting/><span class=toggle></span><span class=menu-item-text></span>Alerting</span></a></a></li><li data-nav-id=/documentation/concepts/monitoring/extending/ title="Extending the Monitoring Stack" class=dd-item><a href=/documentation/concepts/monitoring/extending/><span class=toggle></span><span class=menu-item-text></span>Extending the Monitoring Stack</span></a></a></li><li data-nav-id=/documentation/concepts/monitoring/operator_alerts/ title="Operator Alerts" class=dd-item><a href=/documentation/concepts/monitoring/operator_alerts/><span class=toggle></span><span class=menu-item-text></span>Operator Alerts</span></a></a></li><li data-nav-id=/documentation/concepts/monitoring/user_alerts/ title="User Alerts" class=dd-item><a href=/documentation/concepts/monitoring/user_alerts/><span class=toggle></span><span class=menu-item-text></span>User Alerts</span></a></a></li></ul></li></ul></li><li data-nav-id=/documentation/guides/ title="How-To Guides" class="dd-item link root" data-depth=0><a href=/documentation/guides/><span class=menu-item-text>How-To Guides</span></a><ul><li data-nav-id=/documentation/guides/administer_shoots/ title="Administer Client (Shoot) Clusters" class="dd-item link top-level" data-depth=1><a href=/documentation/guides/administer_shoots/><span class=menu-item-text>Administer Client (Shoot) Clusters</span></a></li><li data-nav-id=/documentation/guides/applications/ title=Applications class="dd-item link top-level" data-depth=1><a href=/documentation/guides/applications/><span class=menu-item-text>Applications</span></a></li><li data-nav-id=/documentation/guides/client_tools/ title="Set Up Client Tools" class="dd-item link top-level" data-depth=1><a href=/documentation/guides/client_tools/><span class=menu-item-text>Set Up Client Tools</span></a></li><li data-nav-id=/documentation/guides/gardener-cookies/ title="Gardener Cookies" class="dd-item link top-level" data-depth=1><a href=/documentation/guides/gardener-cookies/><span class=menu-item-text>Gardener Cookies</span></a></li><li data-nav-id=/documentation/guides/install_gardener/ title="Install Gardener" class="dd-item link top-level" data-depth=1><a href=/documentation/guides/install_gardener/><span class=menu-item-text>Install Gardener</span></a></li><li data-nav-id=/documentation/guides/monitoring_and_troubleshooting/ title="Monitor and Troubleshoot" class="dd-item link top-level" data-depth=1><a href=/documentation/guides/monitoring_and_troubleshooting/><span class=menu-item-text>Monitor and Troubleshoot</span></a></li></ul></li><li data-nav-id=/documentation/tutorials/ title=Tutorials class="dd-item link root" data-depth=0><a href=/documentation/tutorials/><span class=menu-item-text>Tutorials</span></a><ul><li data-nav-id=/documentation/tutorials/dynamic-pvc/ title="Dynamic Volume Provisioning" class="dd-item link top-level" data-depth=1><a href=/documentation/tutorials/dynamic-pvc/><span class=menu-item-text>Dynamic Volume Provisioning</span></a></li><li data-nav-id=/documentation/tutorials/featureflag/ title="Feature Flags in Kubernetes Applications" class="dd-item link top-level" data-depth=1><a href=/documentation/tutorials/featureflag/><span class=menu-item-text>Feature Flags in Kubernetes Applications</span></a></li><li data-nav-id=/documentation/tutorials/gpu/ title="GPU Enabled Cluster" class="dd-item link top-level" data-depth=1><a href=/documentation/tutorials/gpu/><span class=menu-item-text>GPU Enabled Cluster</span></a></li><li data-nav-id=/documentation/tutorials/knative-install/ title="Install Knative in Gardener clusters" class="dd-item link top-level" data-depth=1><a href=/documentation/tutorials/knative-install/><span class=menu-item-text>Install Knative in Gardener clusters</span></a></li><li data-nav-id=/documentation/tutorials/node-overprovisioning/ title="Cluster Overprovisioning" class="dd-item link top-level" data-depth=1><a href=/documentation/tutorials/node-overprovisioning/><span class=menu-item-text>Cluster Overprovisioning</span></a></li><li data-nav-id=/documentation/tutorials/s3/ title="Shared storage with S3 backend" class="dd-item link top-level" data-depth=1><a href=/documentation/tutorials/s3/><span class=menu-item-text>Shared storage with S3 backend</span></a></li><li data-nav-id=/documentation/tutorials/shoot_istio_dns_certs/ title="Gardener yourself a Shoot with Istio, custom Domains, and Certificates" class="dd-item link top-level" data-depth=1><a href=/documentation/tutorials/shoot_istio_dns_certs/><span class=menu-item-text>Gardener yourself a Shoot with Istio, custom Domains, and Certificates</span></a></li></ul></li><li data-nav-id=/documentation/references/ title="API Reference" class="dd-item link root" data-depth=0><a href=/documentation/references/><span class=menu-item-text>API Reference</span></a><ul><li data-nav-id=/api-reference/core/ title=Core class="dd-item link top-level" data-depth=1><a href=/api-reference/core/><span class=menu-item-text>Core</span></a></li><li data-nav-id=/api-reference/extensions/ title=Extensions class="dd-item link top-level" data-depth=1><a href=/api-reference/extensions/><span class=menu-item-text>Extensions</span></a></li><li data-nav-id=/api-reference/settings/ title=Settings class="dd-item link top-level" data-depth=1><a href=/api-reference/settings/><span class=menu-item-text>Settings</span></a></li></ul></li><li data-nav-id=/documentation/contribute/ title=Contribute class="dd-item link root" data-depth=0><a href=/documentation/contribute/><span class=menu-item-text>Contribute</span></a><ul><li data-nav-id=/contribute/code/ title=Code class="dd-item link top-level" data-depth=1><a href=/contribute/code/><span class=menu-item-text>Code</span></a><ul><li data-nav-id=/documentation/contribute/10_code/10-contribution_guide/ title="Contribution Guide" class="dd-item link" data-depth=2><a href=/documentation/contribute/10_code/10-contribution_guide/><span class=menu-item-text>Contribution Guide</span></a></li><li data-nav-id=/documentation/contribute/10_code/12-security_guide/ title="Security Release Process" class="dd-item link" data-depth=2><a href=/documentation/contribute/10_code/12-security_guide/><span class=menu-item-text>Security Release Process</span></a></li><li data-nav-id=/documentation/contribute/10_code/13_env/ title=Enviroment class="dd-item link" data-depth=2><a href=/documentation/contribute/10_code/13_env/><span class=menu-item-text>Enviroment</span></a></li><li data-nav-id=/documentation/contribute/10_code/14_cicd/ title=CI/CD class="dd-item link" data-depth=2><a href=/documentation/contribute/10_code/14_cicd/><span class=menu-item-text>CI/CD</span></a></li><li data-nav-id=/documentation/contribute/10_code/15_conf_secrets/ title="Configuration and Usage" class="dd-item link" data-depth=2><a href=/documentation/contribute/10_code/15_conf_secrets/><span class=menu-item-text>Configuration and Usage</span></a></li><li data-nav-id=/documentation/contribute/10_code/20_dependencies/ title=Dependencies class="dd-item link" data-depth=2><a href=/documentation/contribute/10_code/20_dependencies/><span class=menu-item-text>Dependencies</span></a></li><li data-nav-id=/documentation/contribute/10_code/27_deploy_into_cluster/ title="Deploy into a Cluster" class="dd-item link" data-depth=2><a href=/documentation/contribute/10_code/27_deploy_into_cluster/><span class=menu-item-text>Deploy into a Cluster</span></a></li><li data-nav-id=/documentation/contribute/10_code/30_deploy_seed_into_aks/ title="Deploy into AKS" class="dd-item link" data-depth=2><a href=/documentation/contribute/10_code/30_deploy_seed_into_aks/><span class=menu-item-text>Deploy into AKS</span></a></li><li data-nav-id=/documentation/contribute/10_code/37_process/ title=Process class="dd-item link" data-depth=2><a href=/documentation/contribute/10_code/37_process/><span class=menu-item-text>Process</span></a></li><li data-nav-id=/documentation/contribute/10_code/40_repositories/ title=Repositories class="dd-item link" data-depth=2><a href=/documentation/contribute/10_code/40_repositories/><span class=menu-item-text>Repositories</span></a></li></ul></li><li data-nav-id=/contribute/docs/ title=Documentation class="dd-item link top-level" data-depth=1><a href=/contribute/docs/><span class=menu-item-text>Documentation</span></a><ul><li data-nav-id=/documentation/contribute/20_documentation/10_organisation/ title=Organisation class="dd-item link" data-depth=2><a href=/documentation/contribute/20_documentation/10_organisation/><span class=menu-item-text>Organisation</span></a></li><li data-nav-id=/documentation/contribute/20_documentation/20_style/ title="Style Guide" class="dd-item link" data-depth=2><a href=/documentation/contribute/20_documentation/20_style/><span class=menu-item-text>Style Guide</span></a></li><li data-nav-id=/documentation/contribute/20_documentation/25_markup/ title=Markdown class="dd-item link" data-depth=2><a href=/documentation/contribute/20_documentation/25_markup/><span class=menu-item-text>Markdown</span></a><ul><li data-nav-id=/documentation/contribute/20_documentation/25_markup/attachments/ title=Attachments class=dd-item><a href=/documentation/contribute/20_documentation/25_markup/attachments/><span class=toggle></span><span class=menu-item-text></span>Attachments</span></a></a></li><li data-nav-id=/documentation/contribute/20_documentation/25_markup/button/ title=Button class=dd-item><a href=/documentation/contribute/20_documentation/25_markup/button/><span class=toggle></span><span class=menu-item-text></span>Button</span></a></a></li><li data-nav-id=/documentation/contribute/20_documentation/25_markup/expand/ title=Expand class=dd-item><a href=/documentation/contribute/20_documentation/25_markup/expand/><span class=toggle></span><span class=menu-item-text></span>Expand</span></a></a></li><li data-nav-id=/documentation/contribute/20_documentation/25_markup/mermaid/ title=Mermaid class=dd-item><a href=/documentation/contribute/20_documentation/25_markup/mermaid/><span class=toggle></span><span class=menu-item-text></span>Mermaid</span></a></a></li><li data-nav-id=/documentation/contribute/20_documentation/25_markup/notice/ title=Notice class=dd-item><a href=/documentation/contribute/20_documentation/25_markup/notice/><span class=toggle></span><span class=menu-item-text></span>Notice</span></a></a></li></ul></li></ul></li></ul></li></ul></nav></li></ul></div></div></div></header></div><script>$(".navigation .navbar-toggler").click(function(evt){$(".navigation .navbar-collapse").toggle();$(".navigation").toggleClass("collapsed");$(".navigation .search-box").toggle();})</script><div class=sln><div class=overlay-band><ul class="nav-list container"><li title=Home><a class=navbar-link href=/documentation/home/>Home</a></li><li title=Concepts><a class=navbar-link href=/documentation/concepts/>Concepts</a></li><li title="How-To Guides"><a class=navbar-link href=/documentation/guides/>How-To Guides</a></li><li title=Tutorials><a class="navbar-link is-active" href=/documentation/tutorials/>Tutorials</a></li><li title="API Reference"><a class=navbar-link href=/documentation/references/>API Reference</a></li><li title=Contribute><a class=navbar-link href=/documentation/contribute/>Contribute</a></li></ul></div></div><div class="main container"><section><div class="highlightable body-inner-wrapper"><div id=body-inner class=external><style>.docs .title{margin:0 0 4rem}</style><div class="docs page"><div class=git-wr><div class=page-contributors>Contributors to this page<div class=contributors-list><a href=mailto:andreas.herz@sap.com><img class=user-icon src="https://avatars1.githubusercontent.com/u/1155039?v=4" title="Andreas Herz"></a></div></div><div class=page-edit><span class=last-update>Last update:
<span data-publishdate="2019-05-23 10:07:24"></span></span><div id=top-github-link><a class=github-link title="Edit this page" href=https://github.com/gardener-samples/kube-overprovisioning/edit/master/README.md target=blank><i class="fa fa-edit"></i><span id=top-github-link-text title="Edit this page"></span></a></div></div></div><h1 id=cluster-overprovisioning>Cluster Overprovisioning</h1><p>This tutorial describes how to overprovisioning of cluster nodes for scaling and failover. This is desired
when you have work loads that need to scale up quickly without waiting for the new cluster nodes to be created
and join the cluster.</p><p><img src="https://raw.githubusercontent.com/gardener-samples/kube-overprovisioning/master/images/teaser.png?raw=true" alt=teaser></p><p>A similar problem occurs when crashing a node from the Hyperscaler. This must be replaced by Kubernetes as fast
as possible. The solution can be <strong>overprovisioning</strong> of nodes</p><blockquote><p>Overprovisioning: Allocating more computer resources than is strictly necessary</p><p><em><a href=https://en.wikipedia.org/wiki/Overprovisioning>https://en.wikipedia.org/wiki/Overprovisioning</a></em></p></blockquote><h2 id=when-does-the-autoscaler-change-the-size-of-the-cluster>When does the autoscaler change the size of the cluster?</h2><p>Below is a description of how the cluster behaves when there is a requirement to scale.</p><h3 id=scaling-without-overprovisioning>Scaling without overprovisioning</h3><ol><li>load hits the cluster (or a node is crashed)</li><li>cannot schedule application-pods due to insufficient resources, scaling fails 💀</li><li>cluster-autoscaler notices and begins to provision new instance</li><li>wait for instance to be provisioned, boot, join the cluster and become ready</li><li>kube-scheduler will notice there is somewhere to put the application-pods and will schedule them</li></ol><h3 id=scaling-with-overprovisioning>Scaling with Overprovisioning</h3><ol><li>load hits the cluster (or a node is crashed)</li><li><em>placeholder-pods</em> are evicted,</li><li><strong>scaling of application-pod is immediately successful</strong></li><li>placeholder-pods cannot be scheduled due to insufficient resources</li><li>wait for instance to be provisioned, boot, join the cluster and become ready</li><li>kube-scheduler will notice there is somewhere to put the placeholder pods and will schedule them</li></ol><p>You can apply the above scenario one-to-one to the case when a node of the Hyperscaler dies.</p><h2 id=real-scenario-test>Real Scenario Test</h2><p>We executed <em>normal</em> and <em>overprovisioning</em> tests on a gardener cluster on different infrastructure provider (aws, azure, gcp,
alicloud). All of them tested the downtime of the application pod running in the cluster, when a node dies.</p><p>The test results for the different IaaS provider are shown below.</p><h2 id=results>Results</h2><p>The results provided should only show how long the downtimes can be approximately.</p><blockquote><p><em>The downtime results could vary +- 1 min, because the minimum request interval in UpTime is 1 minute</em></p></blockquote><h2 id=img-srchttpsrawgithubusercontentcomgardener-sampleskube-overprovisioningmasterimageslogosawspngrawtrue-classinline-styledisplay-inline-blockmargin0height30px-amazon><img src="https://raw.githubusercontent.com/gardener-samples/kube-overprovisioning/master/images/logos/aws.png?raw=true" class=inline style=display:inline-block;margin:0;height:30px> Amazon</h2><h3 id=normal>Normal</h3><p><img src="https://raw.githubusercontent.com/gardener-samples/kube-overprovisioning/master/images/result/normal/aws.png?raw=true" alt=chart></p><h3 id=overprovisioning>Overprovisioning</h3><p><img src="https://raw.githubusercontent.com/gardener-samples/kube-overprovisioning/master/images/result/overprovision/aws.png?raw=true" alt=chart></p><h2 id=img-srchttpsrawgithubusercontentcomgardener-sampleskube-overprovisioningmasterimageslogosazurepngrawtrue-classinline-styledisplay-inline-blockmargin0height30px-azure><img src="https://raw.githubusercontent.com/gardener-samples/kube-overprovisioning/master/images/logos/azure.png?raw=true" class=inline style=display:inline-block;margin:0;height:30px> Azure</h2><h3 id=normal-1>Normal</h3><p><img src="https://raw.githubusercontent.com/gardener-samples/kube-overprovisioning/master/images/result/normal/azure.png?raw=true" alt=chart></p><h3 id=overprovisioning-1>Overprovisioning</h3><p><img src="https://raw.githubusercontent.com/gardener-samples/kube-overprovisioning/master/images/result/overprovision/azure.png?raw=true" alt=chart></p><h2 id=img-srchttpsrawgithubusercontentcomgardener-sampleskube-overprovisioningmasterimageslogosgcppngrawtrue-classinline-styledisplay-inline-blockmargin0height30px-gcp><img src="https://raw.githubusercontent.com/gardener-samples/kube-overprovisioning/master/images/logos/gcp.png?raw=true" class=inline style=display:inline-block;margin:0;height:30px> GCP</h2><h3 id=normal-2>Normal</h3><p><img src="https://raw.githubusercontent.com/gardener-samples/kube-overprovisioning/master/images/result/normal/gcp.png?raw=true" alt=chart></p><h3 id=overprovisioning-2>Overprovisioning</h3><p><img src="https://raw.githubusercontent.com/gardener-samples/kube-overprovisioning/master/images/result/overprovision/gcp.png?raw=true" alt=chart></p><h2 id=img-srchttpsrawgithubusercontentcomgardener-sampleskube-overprovisioningmasterimageslogosalicloudpngrawtrue-classinline-styledisplay-inline-blockmargin0height30px-alicloud><img src="https://raw.githubusercontent.com/gardener-samples/kube-overprovisioning/master/images/logos/alicloud.png?raw=true" class=inline style=display:inline-block;margin:0;height:30px> AliCloud</h2><h3 id=normal-3>Normal</h3><p><img src="https://raw.githubusercontent.com/gardener-samples/kube-overprovisioning/master/images/result/normal/alicloud.png?raw=true" alt=chart></p><h3 id=overprovisioning-3>Overprovisioning</h3><p><img src="https://raw.githubusercontent.com/gardener-samples/kube-overprovisioning/master/images/result/overprovision/alicloud.png?raw=true" alt=chart></p><h2 id=summary-of-results>Summary of results</h2><h3 id=normal-4>Normal</h3><table><thead><tr><th>Provider</th><th>AWS</th><th>Azure</th><th>GCP</th><th>AliCloud</th></tr></thead><tbody><tr><td>Node deleted</td><td>08:56</td><td>09:32</td><td>09:39</td><td>09:53</td></tr><tr><td>Pod rescheduled</td><td>09:17</td><td>09:50</td><td>09:53</td><td>10:14</td></tr><tr><td><strong>Downtime</strong></td><td>21 min</td><td>18 min</td><td>14 min</td><td>21 min</td></tr></tbody></table><h3 id=overprovisioning-4>Overprovisioning</h3><table><thead><tr><th>Provider</th><th>AWS</th><th>Azure</th><th>GCP</th><th>AliCloud</th></tr></thead><tbody><tr><td>Node deleted</td><td>14:20</td><td>06:00</td><td>06:05</td><td>08:23</td></tr><tr><td>Pod rescheduled</td><td>14:22</td><td>06:02</td><td>06:06</td><td>08:25</td></tr><tr><td><strong>Downtime</strong></td><td>2 min</td><td>2 min</td><td>1 min</td><td>2 min</td></tr></tbody></table><h2 id=test-description>Test Description</h2><p>We deployed a nginx web server and a service of type LoadBalancer to expose it. So we are able to call our
endpoint with external tools like UpTime to check the availability of our nginx. It takes only a few seconds
to deploy a nginx web server on kubernetes, so we could say: when your endpoint works, your node is up and running.</p><p>We wanted to test how much time it takes, when your node gets killed and your cluster has to create a new one to run
your application on it.</p><div class=highlight><pre class=chroma><code class=language-fallback data-lang=fallback>kubectl get nodes

# select the node where your nginx is running on
kubectl delete node &lt;NGINX-HOSTED-NODE&gt;
</code></pre></div><p>The downtime is tested with UpTime, which does every minute a request to our endpoint. Further we checked manually,
if the node startup time and the timestamps on UpTime are almost similar.</p><p>Next, deploy the <strong>overprovisioned</strong> version of our demo application and kill the node with the NGINX.
As you can see - the pod comes up very fast and can serve content again.</p></div></div></div><div class=howto_tickets><a href=https://github.com/gardener-samples/kube-overprovisioning/issues/new/choose target=_blank><span>Let us know how can we improve.</span>
<span>Open <img src=https://gardener.cloud/images/branding/github-mark-logo-green.svg> GitHub Issue <i class="fa fa-external-link" aria-hidden=true></i></span></a></div></section></div><style></style><footer class=footer><div class="container footer-wrapper"><ul class=nav><li><a href=/blog/>Blogs</a></li><li><a href=/news/>News</a></li><li><a href=/community/>Community</a></li><li><a href=/adopter/>Adopters</a></li><li><a href=/documentation/>Documentation</a></li></ul><img src=/images/lp/gardener-logo.svg alt="Logo Gardener" class=logo><ul class=media-wr><li><a target=_blank href=https://kubernetes.slack.com/archives/CB57N0BFG><img src=/images/branding/slack-logo-white.svg class=media-icon><div class=media-text>Slack</div></a></li><li><a target=_blank href=https://github.com/gardener><img src=/images/branding/github-mark-logo.png class=media-icon><div class=media-text>GitHub</div></a></li><li><a target=_blank href=https://www.youtube.com/channel/UCwUhwKFREV8Su0gwAJQX7tw><img src=/images/branding/youtube-logo-dark.svg class=media-icon><div class=media-text>YouTube</div></a></li><li><a target=_blank href=https://twitter.com/GardenerProject><img src=/images/branding/twitter-logo-white.svg class=media-icon><div class=media-text>Twitter</div></a></li></ul><span class=copyright>Copyright 2020 Gardener project authors. Privacy Statement</span></div></footer><script src=/js/perfect-scrollbar.min.js?1592565189></script><script src=/js/perfect-scrollbar.jquery.min.js?1592565189></script><script src=/js/jquery.sticky.js?1592565189></script><script src=/js/featherlight.min.js?1592565189></script><script src=/js/html5shiv-printshiv.min.js?1592565189></script><script src=/js/modernizr.custom.71422.js?1592565189></script><link href=/mermaid/mermaid.css?1592565189 type=text/css rel=stylesheet><script src=/mermaid/mermaid.js?1592565189></script><script src=/js/code-snippets.js?1592565189></script><script>mermaid.initialize({startOnLoad:true,htmlLables:true});function createIssue(issueUrl,page,url){var uri=issueUrl+"?title=Documentation issue on page \""+page+"\"";uri=uri+"&body=\n\n<- DESCRIBE MISSING OR FAULTY DOCUMENTATION HERE->\n\n---\nPage: ["+page+"]("+
url+")\ndon't remove the link to the page. It's required for the processor"
var res=encodeURI(uri);res+="&labels=area/documentation"
window.open(res,"issue")
return false;}
$(document).ready(function(){inlineSVG.init();$("[data-publishdate]").each(function(){$(this).text(moment($(this,"YYYY-MM-DD","YYYY-MM-DD hh:mm:ss").attr("data-publishdate")).fromNow());});new ClipboardJS('.clipboard-copy');$("body").codeSnippets();});</script><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W2FGNSX" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript></body></html>